!function(e,t,i){function n(){this._name=null,this._inherits=[],this._publics=[],this._constructor=null}function r(){function n(e,t){var i=new RegExp("(\\-|\\+)"+t+"(\\s|$)","gi"),n=i.exec(o);return!n||"+"!=n[1]&&"-"!=n[1]?e:"+"==n[1]}var r=t.sessionStorage,o=r&&r.environmentTest||"",s={},l=e("html");e.each(je,function(e,t){var r="x-"+e.replace(" ","-").toLowerCase();try{n(!!t(),e)?(s[e]=!0,l.addClass(r)):(s[e]=!1,l.removeClass(r))}catch(t){s[e]=i,console.log("Zillion Parts - Environment Test "+e+": "+t)}}),a({Support:s})}function o(e,t){var i=864e5;return t=(t||Date.now()).getTime(),e=Math.floor(e/i),t=Math.floor(t/i),e-t}function a(t){e.extend(!0,Ve,t)}function s(e){return{error:gt,trace:c("trace")||c(e)?lt:nt,debug:c("debug")||c(e)?lt:nt}}function l(e){if(e instanceof RegExp)return[e];for(var t=""+e,i=t.split(/\s+/g),n=[],r=0,o=i.length;r<o;r++)n.push(new RegExp(["((?:^|\\s)(",i[r],")(?:\\s|$))"].join(""),"gi"));return u(n)}function u(e){return{test:function(t){for(var i=0,n=e.length;i<n;i++)if(!e[i].test(t))return!1;return e.length>0},replace:function(t,i){for(var n=0,r=e.length;n<r;n++)t=t.replace(e[n],i);return t}}}function c(e){return"true"===ct||"*"===ct||l(e).test(ct)}function d(e){e===i?(delete t.localStorage.debug,console.log("All Debug Modes Disabled. Reload the page to apply the changes.")):h(e,!1)}function h(e,n){if(e instanceof Array&&(e=e.join(" ")),"string"!=typeof e)throw new Error("Specify a string.");n===i&&(n=!0);for(var r=e.split(/\s+/gi),o=0,a=r.length;o<a;o++){e=r[o];var s=l(e);!n!=!s.test(t.localStorage.debug)?n?(t.localStorage.debug=t.localStorage.debug+=" "+e,console.log("["+e+"] Mode Enabled. Reload the page to apply the changes.")):(t.localStorage.debug=s.replace(t.localStorage.debug,""),console.log("["+e+"] Mode Disabled. Reload the page to apply the changes.")):console.log("["+e+"] Mode Unchanged.")}}function p(e,t){var i=Date.now();return t&&t.then&&t.then(function(){var t=Date.now()-i;yt.trace("Promise: ["+t+"ms] "+e+". Success")},function(){var t=Date.now()-i;yt.error("Promise: ["+t+"ms] "+e+". Error",arguments)}),t}function f(t){var i=e(t)[0];if(i){var n=i.parentElement;n&&(n.removeChild(i),n.appendChild(i))}}function m(e,t){t.then(function(t){e.resolve(t)},function(t){e.reject(t)})}function g(e,t,i){function n(){r(),e.apply(this,arguments)}function r(){null!==o&&(clearTimeout(o),o=null)}var o=null,a=function(){if(null!==o){if(!1===i)return;clearTimeout(o)}var e=arguments,r=this;o=setTimeout(function(){n.apply(r,e)},t)};return a.cancel=function(){r()},a.invoke=function(e,t){n.apply(e||this,t)},a}function v(e,t){function i(){null!==n&&(clearTimeout(n),n=null)}var n=null,r=e,o=t,a=function(e,t){return t||(t=r),(0|e)<0&&(e=o),function(){i();var r=arguments,o=this;n=setTimeout(function(){t.apply(o,r)},e)}};return a.cancel=i,a}function y(e,t){function i(){var t=new Date;try{return o=e.apply(n,arguments)}finally{a=new Date,r=a-t}}var n=this,r=null,o=null,a=null,s=Ve.Delay(i,t,!1);return function(){if(new Date<r+a)return s(),o;i()}}function w(e,t){var n=w.options;t===i&&(t=n.strictMode?"strict":"loose");for(var r=n.parser[t].exec(e),o=n.keys[t],a={protocol:"urn"},s=o.length;s--;)a[o[s]]=r[s]||"";return a}function b(e,t){var n=b.options;t===i&&(t=n.strictMode?"strict":"loose");for(var r=n.parser[t].exec(e),o={},a=14;a--;)o[n.key[a]]=r[a]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(o[n.q.name][t]=i)}),o}function x(e,t){t().then(e.resolve.bind(e),e.reject.bind(e))}function C(e){var i=Date.now(),n=t.JSON.parse(e),r=bt(null,n),o=Date.now()-i;return o>50&&ft("JSON Parsing 50ms+: "+o),r}function I(e){return e}function k(){var i=0,n=0,r=new Ve.Event,o={};return e(t).resize(function(){throttle(o,function(){var o=e(t).height(),a=e(t).width();i===a&&n===o||(i=a,n=o,r.notify({width:a,height:o}))},50)}),e(function(){e(t).resize()}),r}function T(e){var t=["var p = ",e,",","n = ",e," = function () {","try {",'throw new Error("Stacktrace ',e,'");',"} catch (ex) {","console.log.apply(console, [fn].concat(arguments));","console.log(ex.stack);","}","return p.apply(this, arguments);","};","n.prototype = p;","return p;"];return new Function("fn",t.join(""))(e)}function D(){this.content=""}function S(){var e=this,t=[];this.subscribe=function(i){return t.push(i),{unsubscribe:function(){e.unsubscribe(i)}}},this.unsubscribe=function(e){for(var i=t.length-1;i>=0;i--)t[i]===e&&t.splice(i,1)},this.notify=function(e,i,n){i=i||new E,n=n||this;for(var r,o=0;o<t.length&&!i.isPropagationStopped()&&!i.isImmediatePropagationStopped();o++)r=t[o].call(n,i,e);return r}}function E(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function F(){var e=[];this.subscribe=function(t,i){e.push({event:t,handler:i}),t.subscribe(i)},this.unsubscribe=function(t,i){for(var n=e.length;n--;)if(e[n].event===t&&e[n].handler===i)return e.splice(n,1),void t.unsubscribe(i)},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);e=[]}}function z(e){delete e.$key,delete e.$cache}function H(t,i){var n;e.isArray(i)?n=i:"string"==typeof i&&(n=i.split(" "));var r,o=0,a=n.length;if(e.isArray(t)){for(r=[];o<a;o++)r.push(t[n[o]]);return r}for(r={};o<a;o++)r[n[o]]=t[n[o]];return r}function M(){var t=this,i=[],n=null;this.type="or",this.include=function(t,r){if(n=null,"string"==typeof t){var o=Re(t);t=function(e){return o(e,null,r)}}else if(e.isPlainObject(t)){var a=t;t=function(e){return Ve.Data.MatchObject(e,a)}}else if(t instanceof Ve.Condition){var s=t;t=function(e){return s.match(e)}}return i.push({callback:t,exclusive:!1}),this},this.exclude=function(t,r){if(n=null,"string"==typeof t){var o=Re(t);t=function(e){return o(e,null,r)}}else if(e.isPlainObject(t)){var a=t;t=function(e){return Ve.Data.MatchObject(e,a)}}else if(t instanceof Ve.Condition){var s=t;t=function(e){return s.match(e)}}return i.push({callback:t,exclusive:!0}),this},this.match=function(e){if(null==n){var r,o=i.length,a=[];if("and"===t.type){for(r=0;r<o;r++)i[r].exclusive&&a.push("if (__cb["+r+"].callback(__c)) return false;");for(r=0;r<o;r++)i[r].exclusive||a.push("if (!__cb["+r+"].callback(__c)) return false;");a.push("return true;")}else{for(r=0;r<o;r++)i[r].exclusive&&a.push("if (__cb["+r+"].callback(__c)) return false;");var s=0;for(r=0;r<o;r++)i[r].exclusive||(a.push("if (__cb["+r+"].callback(__c)) return true;"),s++);0===s?a.push("return true;"):a.push("return false;")}n=It.get(a.join(""),["__c, __cb"])}return n(e,i)},this.filter=function(i){return e.grep(i,function(e){return t.match(e)})}}function A(){function t(e,t){for(var n={},r="",o=0,a=e.length;o<a;o++){if((r=e[o].$key=""+e[o][t])===i||n[r]!==i)throw ft("DataSet: Duplicate key collision with key ["+r+"]."),"Each data element must implement a unique '"+g+"' property.";n[r]=o}return n}function n(e,i){var n=i||g;y=t(e,n),v=e,g=n}function r(e){return!0===e?v:_}function o(){return g}function a(e,t){return!0===t?v[y[e]]:_[w[e]]}function s(e,t){return!0===t?v[e]:_[e]}function l(e,t){var n;return n=!0===t?y[e]:w[e],n===i?-1:n}function u(e,t){return!0===t?v[e].$key:_[e].$key}function c(e,i){x=i||!0,b=e;var n=x?1:-1,r=x?-1:1;if("string"==typeof e){var o=e;e=function(e,t){return e=e[o],t=t[o],e===t?0:null===e?-1:null===t?1:(e=Ct(e),t=Ct(t),e==t?0:e>t?n:r)}}_.sort(e),w=t(_,"$key")}function d(){b&&c(b,x)}function h(t){e.isPlainObject(t)?(C=t,I=function(e){return Ve.Data.FilterArray(e,C)}):e.isFunction(t)&&(C=t,I=t)}function p(e){k=e}function f(i){m(),!1!==i&&(y=t(v,g));var n=v.slice(0);e.isFunction(I)&&(n=I(n,k)),w=t(n,g),_=n,d(),T.notify(n,null,D)}function m(){for(var e=0,t=v.length;e<t;e++)z(v[e])}var g="ID",v=[],y={},_=[],w=[],b=null,x=null,C=null,I=null,k=null,T=new Ve.Event,D={setItems:n,getItems:r,getKeyField:o,getItemByKey:a,getItemByIdx:s,getIdxByKey:l,getKeyByIdx:u,sort:c,setFilter:h,setFilterArgs:p,refresh:f,reset:m,onUpdated:T};return D}function P(){function e(){a()}function t(t){c&&c.onUpdated.unsubscribe(e),c=t,c.onUpdated.subscribe(e)}function n(){return{hasGroups:!0,data:s}}function r(e){for(var t=[],n=0;n<l.length;n++){var r=e[l[n]];r?t.push(r):t.push(i)}return t}function o(e,t){for(var i=e,n=0;n<t.length;n++)t[n]in i==0&&(i[t[n]]={}),i=i[t[n]];return i}function a(){for(var e=c.getItems(),t=s={},i=0;i<e.length;i++){var n=e[i],a=r(n),l=o(t,a);"items"in l==!1&&(l.items=[]),l.items.push(n)}u.notify()}var s={},l=[],u=new Ve.Event,c=null;return{getItems:n,setDataSource:t,refresh:a,onUpdated:u}}function V(t){function i(e){y=e}function n(e){o(e[y])}function r(e){o(e[y])}function o(e){var t={type:V.Adding,keys:[""+e]};g.notify(t,null,this);var i=[];t.keys.qEach(function(e){e=""+e,!1===d(e)&&(!1===v&&0!==m&&l(),f.push(e),i.push(e),m++)}),g.notify({type:V.Added,keys:i},null,this)}function a(e){e=(e||"").toString(),!0===d(e)&&(g.notify({type:V.Removing,keys:[e]},null,this),f=f.filter(function(t){return t!==e}),m--,g.notify({type:V.Removed,keys:[e]},null,this))}function s(e){return d(e)?(a(e),!1):(o(e),!0)}function l(){var e=f;g.notify({type:V.Clearing,keys:e.slice(0)},null,this),f=[],m=0,g.notify({type:V.Cleared,keys:e.slice(0)},null,this)}function u(){return f.slice(0)}function c(){return m}function d(e){return e=(e||"").toString(),f.indexOf(e)>-1}function h(e){e!==v&&(!0===e?v=e:!1===e&&(v=!1,l()))}function p(t,i){if(e.isArray(t)){var n=t;i&&(n=n.qSelect(function(e){return(e[i]||"").toString()})),t=function(e){return n.indexOf(e)>-1}}for(var r=f.slice(0),o=0,s=r.length;o<s;o++){var l=r[o];t(l)||a(l)}}var f=[],m=0,g=new Ve.Event,v=t||!0,y="ID";return{setMultiSelect:h,add:o,remove:a,toggle:s,clear:l,getKeys:u,getCount:c,hasKey:d,filter:p,setKeyField:i,addByObject:n,removeByObject:r,onChange:g}}function q(t){var i="with(__item){",n=[];if(e.each(t,function(t,r){e.isFunction(r)?(i+="if (!__cb["+n.length+"]("+t+")) return false;",n.push(r)):r instanceof RegExp?i+="if (!"+r+".test("+t+")) return false;":r instanceof Number?i+="if ("+r+" !== "+t+") return false;":i+="if ("+JSON.stringify(r)+" !== ("+t+")) return false;"}),i+="} return true;",n.length>0){var r=new Function("__item, __cb",i);return function(e){return r(e,n)}}return new Function("__item",i)}function O(t,i){var n=!0;return zpForEachProperty(i,function(i,r){var o=t[r];if(!(n=e.isFunction(i)?n&&i(o):i instanceof RegExp?n&&i.test(o):n&&o===i))return!1}),n}function L(t,i){return e.isEmptyObject(i)?t:t.qWhere(q(i))}function R(e){var t=/[-[\]{}()+.,\\\/^$|#\s]/g;return e.replace(t,"\\$&")}function B(e){var t="^";return e=R(e),t+=e.replace(/\*/g,".*").replace(/\?/g,"."),RegExp(t,"i")}function N(e){for(var t=[],i=0,n=0,r=0;r<e.length;r++){var o=e[r];if("number"==typeof o){i=r+1,n=o;break}t.push(o)}for(var a=t.length,s=[],l=0;l<n;l++){for(var u={},c=0;c<a;c++)u[t[c]]=e[i+l*a+c];s.push(u)}return s}function W(t,n){if(0===t.length)return[0];var r=[];n===i&&(n=[],e.each(t[0],function(e){n.push(e),r.push(e)}));var o=t.length,a=n.length;r.push(o);for(var s=0;s<o;s++)for(var l=t[s],u=0;u<a;u++)r.push(l[n[u]]);return r}function j(e){e=Re(e);for(var t=0,i=this.length;t<i;t++){if(!1===e(this[t],t,i))break}return this}function $(e){var t=[],i="var __items=this.slice(0),__newItems;";this.addParameter=function(e){return t.push(e),"arguments["+(t.length-1)+"]"},this.script=function(e){i+=e},this.compile=function(){var e=new Function("__items",i+"return __items;");return function(i){return e.apply(i,t)}},this.toArray=function(){return this.compile()(e)}}function U(t){return t&&e.isFunction(t.promise)}function K(t){function i(t,i){function n(){if(l<u.length){var e=u[l][0],t=u[l][1];if("string"==typeof t){if(0==t.indexOf("RESOLVE WITH ")){var i=t.substr(13),s=r.execute(i,null);s.then(function(t){o[e]=t,l++,setTimeout(function(){n()},0)},function(t){a.reject(new Error("Missing parameter "+e+".\n"+t))})}}else o[e]=t,l++,setTimeout(function(){n()},0)}else a.resolve(o)}var o=i,a=e.Deferred();!1===e.isPlainObject(o)&&(o={});var s=0,l=0,u=[];return zpForEachProperty(t,function(e,t){t in o==!1&&(u[s++]=[t,e])}),setTimeout(function(){n()},0),a.promise()}function n(t,i,n){var o;try{if(o=t.callback.call(n||t.ref,i,r),!U(o)){var a=e.Deferred();a.resolve(o),o=a.promise()}return o}catch(t){return mt("Command Error: "+t.toString()),o=e.Deferred(),o.reject(t),o.promise()}}var r=this,o={},a=t||null;this.require=function(e,t){return i(t,e)},this.register=function(e,t,i,n){var r={ref:n||this,callback:t,canCallback:i||!0};return o[e]=r,this},this.assign=function(t){return zpForEachProperty(t,function(t,i){e.isFunction(t)?r.register(i,t):r.register(i,t.execute,t.canExecute,t.ref)}),this},this.unregister=function(e){return delete o[e],this},this.execute=function(t,i,r){var s=o[t];if(s)return n(s,i,r);if(a)return a.execute(t,i,r);var l=e.Deferred();return l.reject(new Error("Command "+t+" could not be found.")),l.promise()},this.canExecute=function(e,t,i){var n=o[e];return n?!0===n.canCallback||n.canCallback.call(i||n.ref,t):a?a.canExecute(e,t,i):null},this.get=function(e,t){var i=o[e];if(i){return{key:e,context:t,can:!0===i.canCallback||i.canCallback(i.commandName,t),execute:function(){return n(i,this.context)}}}return a?a.get(e):null},this.list=function(){var e=[];return zpForEachProperty(o,function(t,i){e.push(i)}),a&&(e=e.concat(a.list(name,context,ref)).qDistict()),e.sort(),e},this.help=function(e){var t=o[e];return t?{key:e,param:t.param,description:t.description,returnValue:t.returnValue}:a?a.help(e):null}}function G(e){this.showWhen=function(t){return e.conditions.include(t),this},this.hideWhen=function(t){return e.conditions.exclude(t),this},this.executeWith=function(t){return"string"==typeof t&&(t=new Function("__item","with(__item){return("+t+");}")),e.contextCallback=t,this},this.match=function(t){return e.conditions.match(t)}}function Z(){var e=[];this.add=function(t){var i={key:t,conditions:new Ve.Condition,contextCallback:null};return e.push(i),new G(i)},this.remove=function(t){e=e.qWhere("key !== $params",t)},this.get=function(t,i,n){for(var r=e.qWhere("conditions.match($params)",t),o=[],a=0;a<r.length;a++){var s=r[a];if(i){var l=i.get(s.key,t);l?(l.context=t,s.contextCallback?l.context=s.contextCallback(t):l.context=t,l.enabled=i.canExecute(l.key,l.context,l),l.execute=function(){return i.execute(this.key,this.context)},o.push(l)):ft("CommandList: Command key not found "+s.key+".")}}return n?n.extend(o):o},this.getBindings=function(t,i){for(var n=e.qWhere("conditions.match($params)",t),r=[],o=0;o<n.length;o++){var a=n[o],s={key:a.key,context:t,can:function(){return!0},execute:function(){},element:null};s.context=t,a.contextCallback?s.context=a.contextCallback(t):s.context=t,s.enabled=s.can(),s.execute=function(){return this.element.triggerCommand(this.key,this.context,this)},r.push(s)}return i?i.extend(r):r}}function J(t){function i(t){var i="var __res={};with($data){",n=[];return zpForEachProperty(t.items,function(t){var r=t.when;r&&(i+="try{","string"==typeof r?i+="if (!!("+r+"))":(i+="if (__arg["+n.length+"]($data))",n.push(r)),i+="{"),zpForEachProperty(t,function(t,n){"when"!=n&&(e.isFunction(t)?i+="__res."+n+"=("+t.toString()+")($data);":i+="__res."+n+"="+JSON.stringify(t)+";")}),r&&(i+="}",i+='}catch(__eat){ZillionParts.CommandResources.Errors.push(__eat); if(ZillionParts.CommandResources.Errors.length === 1) { console.log("Command resource binding errors."); } }')}),i+="}return __res;",0===n.length?new Function("$data",i):new Function("__arg, $data",i).bind(r,n)}function n(t,n){n=e.extend(!0,{},n);var r=o[t];r||(o[t]=r={get:null,items:[]}),r.items.push(n),r.get=i(r)}var r=this,o={};r.inner=t||null,J.Errors=[],this.register=function(t,i){return e.isArray(i)?zpForEachProperty(i,function(e){n(t,e)}):n(t,i),this},this.assign=function(e){return zpForEachProperty(e,function(e,t){r.register(t,e)}),this},this.resolve=function(e,t){var i=o[e];return i?i.get(t):r.inner?r.inner.resolve(e,t):(ft("CommandResources: No resource found for command key "+e+"."),null)},this.extend=function(t){return r.inner,t.qSelect(function(t){return e.extend(!0,t,r.resolve(t.key,t.context))})}}function X(t,i){i=i||{},i.manager||(i.manager=new Ve.CommandManager),i.resources||(i.resources=new Ve.CommandResources);var n=e(t);return n.data("command-manager",i.manager),n.data("command-resources",i.resources),n.on("command",function(e){var t=e.command,n=i.manager.get(t.command,t.argument);n&&(t.returnValue=n.execute(),e.stopPropagation(),e.preventDefault())}),n.on("click","[command]",function(t){var i=e(this),n=i.data("command-key"),r=i.data("command-argument"),o=i.data("command-context");void 0===o&&(o=i),i.triggerCommand(n,r,o,t)}),i}function Q(t,i,n,r,o){var a={command:i,argument:n,context:r,returnValue:null,event:o},s=jQuery.Event("command",{command:a});return e(t).trigger(s),s.isPropagationStopped()&&o.stopPropagation(),s.isDefaultPrevented()&&o.preventDefault(),a.returnValue}function Y(t,i,n,r){var o=e(t);o.attr("command",""),o.data("command-key",i),o.data("command-argument",n),o.data("command-context",r)}function ee(t){function i(){var e=(t.position||"").split(" ");if(2===e.length){var i=e[0],n="0px";"left"===i?(a.left=n,a.right="auto",s.paddingLeft="1em"):"right"===i&&(a.left="auto",a.right=n,s.paddingRight="1em");var r=e[1];"top"===r?(a.top=n,a.bottom="auto",s.paddingTop="0.5em"):"bottom"===r&&(a.top="auto",a.bottom=n,s.paddingBottom="0.5em")}a.zIndex=Ve.zIndex()}function n(){o.length>1?l.css("visibility","visible"):l.css("visibility","hidden")}var r=this,o=[];t=e.extend(!0,{},kt,t);var a={},s={},l=null;this.create=function(){this.element=e('<div class="rog-notification-area" style="position: fixed" class="ui-helper-clearfix"></div>'),i(),this.element.css(a),l=e('<div class="rog-notification-item-container ui-helper-clearfix" style="visibility: hidden"></div>').css(s);var n=e('<div class="rog-notification-close-all rog-notification-item-clickable">Close All Notifications</div>').appendTo(l);l.css({paddingBottom:0}),n.css({float:"left",width:t.width,paddingBottom:0}),n.click(function(){r.closeAll()}),l.appendTo(this.element),this.element.disableSelection(),this.element.appendTo("body")},this.closeAll=function(){e.each(o,function(e,t){t.close()})},this.add=function(i){var a=ne(i);i.ttl||(i.ttl=t.defaultTtl),a.css({float:"left",width:t.width}),a.hover(function(){a.addClass("rog-notification-item-hover")},function(){a.removeClass("rog-notification-item-hover")});var u=e('<div class="rog-notification-item-container ui-helper-clearfix"></div>').css(s);a.appendTo(u),u.insertBefore(l),u.hide().slideDown();var c={ui:a,item:i},d=new ie(i,a,c);return c.close=d.close,o.push(c),i.onClosed.subscribe(function(){var e=o.indexOf(c);o.splice(e,1),u.remove(),setTimeout(function(){n()},0)}),setTimeout(function(){n()},0),r.element.css({zIndex:Ve.zIndex()+1}),c}}function te(){this.onClosed=new Ve.Event,this.type="",this.cssClass="",this.title="",this.message=""}function ie(e,t,i){function n(){if(s||Date.now()-a<u)return void setTimeout(n,u);r.fadeOut(),setTimeout(function(){if(s||Date.now()-a<u)return void setTimeout(n,u);r.close()},l)}var r=this,o=!1,a=Date.now(),s=!1,l=2e3,u=3e3;this.keepAlive=function(){a=Date.now()};var c=Math.max(l,e.ttl-l);setTimeout(n,c),t.find(".rog-notification-close:first").click(function(){return r.close(),!1}),t.hover(function(){r.keepAlive(),s=!0,r.fadeIn()},function(){s=!1}),e.click&&(t.addClass("rog-notification-item-clickable"),t.click(function(){e.click(i)})),this.close=function(){o||(t.animate({opacity:0},300,function(){t.remove();try{e.onClosed.notify(i)}finally{e.ui=null}}),o=!0)},this.fadeOut=function(){t.animate({opacity:.6},1e3)},this.fadeIn=function(){t.animate({opacity:1},200)}}function ne(t){var i="";switch(t.type){case"error":i="rog-notification-item-error";break;case"info":case"information":i="rog-notification-item-info";break;case"success":i="rog-notification-item-success"}var n=e('<div class="rog-notification-item"></div>').addClass(i+t.cssClass),r=e('<div class="rog-notification-title"></div>').appendTo(n);e("<span></span>").append(t.title).appendTo(r),e('<div class="rog-notification-close">X</div>').appendTo(r);var o=e('<div class="rog-notification-content"></div>').appendTo(n);return e('<span class="rog-notification-message"></span>').append(t.message).appendTo(o),n}function re(e){var t="var _val1,_val2;";return e.qEach(function(e){t+='_val1 = _item1["'+e.fieldID+'"];',t+="if(_val1){_val1=toSortKey(_val1);}",t+='_val2 = _item2["'+e.fieldID+'"];',t+="if(_val2){_val2=toSortKey(_val2);}",!1===e.asc?(t+="if(_val1>_val2)return -1;",t+="else if(_val1<_val2)return 1;"):(t+="if(_val1>_val2)return 1;",t+="else if(_val1<_val2)return -1;")}),t+="return 0;",new Function("_item1","_item2",t)}function oe(t){if(!this.dataView)return"No data source assigned.";var i=this.dataView.getItems(!0).length;if(i>0){var n=e("<span>No data available with the specified filters<br/>"+i+' items available in total<br/><a class="ui-link">Clear filter</a></span>');return n.find("a").click(function(){t.virtualDataGrid("clearFilter").virtualDataGrid("updateFilter")}),n}return"No data available"}function ae(e,t,i,n){e.hasKey(n.$key)&&i.addClass("virtual-data-grid-item-selected"),t.onRowCreated&&t.onRowCreated(i,n)}function se(e,t){return this._itemRenderer.renderMethod(e,t.idx,t.data)}function le(t){var i=e('<style type="text/css" rel="stylesheet" />').appendTo("head");i[0].styleSheet?i[0].styleSheet.cssText=t.join(" "):i[0].appendChild(document.createTextNode(t.join(" ")));for(var n=null,r=document.styleSheets,o=0;o<r.length;o++)if((r[o].ownerNode||r[o].owningElement)==i[0]){n=r[o];break}return{style:i,stylesheet:n}}function ue(e){return Ve.Data.WildCardToRegex(e)}function ce(){return{idx:0,currentTop:-1,getItemHeight:function(e){return 30},reset:function(){this.idx=0,this.currentTop=-1},skip:function(e){for(;e>5;)this.currentTop+=this.getItemHeight(this.idx++)+this.getItemHeight(this.idx++)+this.getItemHeight(this.idx++)+this.getItemHeight(this.idx++)+this.getItemHeight(this.idx++),e-=5;for(;e-- >0;)this.currentTop+=this.getItemHeight(this.idx++);return this},substract:function(e){for(;e>5;)this.currentTop-=this.getItemHeight(--this.idx)+this.getItemHeight(--this.idx)+this.getItemHeight(--this.idx)+this.getItemHeight(--this.idx)+this.getItemHeight(--this.idx),e-=5;for(;e-- >0;)this.currentTop-=this.getItemHeight(--this.idx);return this},skipUntil:function(e){for(;this.currentTop<=e;)this.currentTop+=this.getItemHeight(this.idx++);return this},next:function(){var e=this.currentTop;return this.currentTop+=this.getItemHeight(this.idx++),e},height:function(e){return this.getItemHeight(this.idx+(0|e))}}}function de(){this.cache={}}function he(){return this.elements={},this.invalidate=[],this}function pe(){this.renderMethod=null,this.renderMethodDebug=null}function fe(e){return{text:e.title||e.key,id:e.key,enabled:e.enabled,command:e,iconClass:e.iconClass&&e.iconClass[16]}}function me(e){return'<span class="highlight">'+e+"</span>"}function ge(e){var t=e.qWhere(function(e){return!!e}).qSelect(function(e){return R(e)});if(null==t||0===t.length)return I;var i=t.join("|"),n=new RegExp(i,"gi");return function(e){return e.replace(n,me)}}function ve(){function i(){var i=Date.now()-o;i>s?(n||(n=!0,r=0),r++,e(t).trigger("idle.idleMonitor",[{idleTime:i,lastActivity:o,depth:r}])):(n&&(n=!1,r=0),r++,e(t).trigger("active.idleMonitor",[{lastActivity:o,depth:r}]))}var n=!1,r=0,o=Date.now(),a=1e4,s=9e5,l=0,u=new Ve.Event,c=new Ve.Event;this.setInterval=function(e){a=e,clearInterval(l),l=setInterval(i,a)},this.setTimeout=function(e){s=e},this.getIdleEvent=function(){return u},this.getActiveEvent=function(){return c},e(document).on("keydown mousedown touchstart",function(){o=Date.now(),n&&setTimeout(i,0)}),l=setInterval(i,a)}function ye(){return e('<div class="zp-overlay"></div>').attr("tabindex",0)}function _e(t,i,n){var r=t,o=i||"id",a=n||"text";return{setSource:function(e){r=e},get:function(t){var i=e.Deferred();if(r){var n=r.qFirst(o+" === $params",t);n?i.resolve(n):i.reject()}else mt("Array Source: No valid array assigned for a get."),i.reject({error:new Error("No valid array.")});return i.promise()},query:function(t){var i=e.Deferred();if(r&&e.isArray(r))if(t){var n=Ve.Data.WildCardToRegex("*"+t+"*");i.resolve(r.qWhere("$params.test("+a+")",n))}else i.resolve(r);else mt("Array Source: No valid array assigned for a query."),i.reject();return i.promise()}}}function we(t){function i(){var t=[];return n.find("option").each(function(){var i=e(this),n=i.attr("value"),r=i.text();n&&r&&t.push({id:n,text:r})}),t}var n=t;return{get:function(t){var n=e.Deferred(),r=i(),o=r.qFirst("id === $params",t);return o?n.resolve(o):n.reject(),n.promise()},query:function(t){var n=e.Deferred(),r=i();if(t){var o=Ve.Data.WildCardToRegex("*"+t+"*");n.resolve(r.qWhere("$params.test(text)",o))}else n.resolve(r);return n.promise()}}}function be(){this.element=null,this.parent=null,this.value=null,this.parentFluid=null,this.fluidElements=[],this.fixedElements=[],this.heightSet=0,this.takenHeight=0,this.takenCount=0,this.targetHeight=0,this.elementHeight=0,this.clientHeight=0,this.outerHeight=0,this.marginHeight=0,this.borderHeight=0,this.totalFluidsAddedHeight=0,this.totalFixedHeight=0,this.isCalculated=!1}function xe(t){if(1!==t.nodeType)return Ft.trace('zpFluids: Node detected with type other than "element": '+e(t).getPath()+"."),new be;var i=new be;if(i.element=t,i.visible=!(0===t.offsetWidth&&0===t.offsetHeight||"none"===t.style.display))if(i.value=t.getAttribute("zp-fluids"),i.heightEval=t.getAttribute("zp-fluids-height"),i.valueAs=t.getAttribute("zp-fluids-as")||"height","window"===i.value)i.parent=null,i.parentFluid=i.parentFluid||zt;else{for(var n=i.element;n&&(!(n=n.parentElement)||!n.hasAttribute("zp-fluids")););i.parent=n}return i}function Ce(e,t){var i=Ht[e];return i||(Ht[e]=i=new Function("obj","with (obj) { return ("+e+"); }")),i(t)}function Ie(){return document.querySelectorAll("[zp-fluids]")}function ke(e){var t=At[e];if(null===t)return e;if(t!==i)return t;var n=Mt.exec(e);return n&&n[0]?At[e]="height*"+parseFloat(n[1])/100:At[e]=null}function Te(e){return e=parseInt(e),isNaN(e)?0:e}function De(){this.changesHash=0,this.totalHeight=0,this.fluids=[],this.findByElement=function(e){for(var t=this.fluids,i=0,n=t.length;i<n;i++)if(t[i].element===e)return t[i];return null},this.update=function(){var i,n,r,o,a=this.fluids,s=[],l=0;zt.reset(),a.splice(0,this.fluids.length);for(var u=Array.prototype.slice.call(Ie()),c=0,d=u.length;c<d;c++)a.push(i=xe(u[c])),i.visible&&(s.push(i),++l);for(r=0;r<l;r++)i=s[r],(n=i.parentFluid)||(i.parent?i.parentFluid=this.findByElement(i.parent)||xe(i.parent):i.parentFluid=new be);for(r=0;r<l;r++)i=s[r],i.computedStyle=st(i.element),"fixed"===i.value?i.parentFluid.fixedElements.push(i):"fill"===i.value&&i.parentFluid.fluidElements.push(i);for(r=0;r<l;r++)i=s[r],i.heightSet&&parseInt(i.computedStyle[i.valueAs])!==i.heightSet&&(Ft.trace("zpFluids: Element height has been changed from outside the library."),mt(i));var h,p,f,m,g,v,y,_,w,b;for(r=0;r<l;r++)i=s[r],"window"===i.value?(h=i.element,g=i.computedStyle,p=Te(g.marginTop)+Te(g.marginBottom),f=Te(g.borderTopWidth)+Te(g.borderBottomWidth),m=Te(g.paddingTop)+Te(g.paddingBottom),v=Te(g.minHeight),y=Te(g.maxHeight),b=at?document.documentElement.clientHeight:t.innerHeight,v&&b<v?b=v:y&&b>y&&(b=y),_=b-p,w=b-p-f-m,i.elementHeight=_,i.clientHeight=w,i.outerHeight=b,i.marginHeight=p,i.borderHeight=f,i.paddingHeight=m):"fixed"===i.value?(h=i.element,g=st(h),p=Te(g.marginTop)+Te(g.marginBottom),f=Te(g.borderTopWidth)+Te(g.borderBottomWidth),m=Te(g.paddingTop)+Te(g.paddingBottom),_=h.offsetHeight,w=_-f-m,b=_+p,i.elementHeight=_,i.clientHeight=w,i.outerHeight=b,i.marginHeight=p,i.borderHeight=f,i.paddingHeight=m):"fill"===i.value?(h=i.element,g=st(h),p=Te(g.marginTop)+Te(g.marginBottom),f=Te(g.borderTopWidth)+Te(g.borderBottomWidth),m=Te(g.paddingTop)+Te(g.paddingBottom),_=h.offsetHeight,w=_-f-m,b=_+p,i.elementHeight=_,i.clientHeight=w,i.outerHeight=b,i.marginHeight=p,i.borderHeight=f,i.paddingHeight=m):Ft.error('zpFluids: Invalid value "'+i.value+'" for attribute zp-fluids of element '+e(i.element).getPath()+".");var x,C,I;for(r=0;r<l;r++)i=s[r],"fill"===i.value?(h=i.element,n=i.parentFluid,!1===n.isCalculated&&(n.totalFixedHeight=n.fixedElements.qSum("outerHeight"),n.totalFluidsAddedHeight=n.fluidElements.qSum("marginHeight+borderHeight"),n.fluidsRatio=n.fluidElements.length?1/n.fluidElements.length:1,n.isCalculated=!0),i.heightEval?(x=i.marginHeight+i.borderHeight,I=Math.max(0,n.clientHeight-n.totalFixedHeight-n.totalFluidsAddedHeight)*n.fluidsRatio,o={height:I,fixed:n.totalFixedHeight,availableHeight:n.clientHeight,fluids:n.fluidElements.length,addedHeight:x,element:e(h),parent:e(h.parent)},C=0|Ce(ke(i.heightEval),o),i.targetHeight=C,n.takenHeight-=C+x):(I=Math.max(0,n.clientHeight-n.totalFixedHeight-n.totalFluidsAddedHeight)*n.fluidsRatio|0,i.targetHeight=I,n.takenHeight-=I+x)):i.targetHeight=i.elementHeight;var k,T=0,D=0;for(r=0;r<l;r++)if(i=s[r],_=i.targetHeight,D+=_,"fill"===i.value&&_!==i.heightSet){_<0&&i.heightSet>0&&(Ft.error("zpFluids: Could not set height to "+_+"px for element "+e(i.element).getPath()+"."),_=0);var S=i.heightSet-_;i.heightSet=_,k=_+"px",i.element.style[i.valueAs]!==k&&(Ft.debug("zpFluids: Setting height to "+_+"px for element "+e(i.element).getPath()+"."),i.element.style[i.valueAs]=k),T=(T^S*(137*(r+1))*l)%1e8}this.changesHash=T,this.totalHeight=D}}function Se(e){var t,i,n,r,o,a,s,l,u,c=0,d="";if(!e)return e;do{t=e[c++],i=e[c++],n=e[c++],l=t<<16|i<<8|n,r=l>>18&63,o=l>>12&63,a=l>>6&63,s=63&l,d+=Vt.charAt(r)+Vt.charAt(o)+Vt.charAt(a)+Vt.charAt(s)}while(c<e.length);return u=e.length%3,(u?d.slice(0,u-3):d)+"===".slice(u||3)}function Ee(e){var t,i,n,r,o,a,s,l,u=0,c=[];if(!e)return e;e+="";do{r=Vt.indexOf(e.charAt(u++)),o=Vt.indexOf(e.charAt(u++)),a=Vt.indexOf(e.charAt(u++)),s=Vt.indexOf(e.charAt(u++)),l=r<<18|o<<12|a<<6|s,t=l>>16&255,i=l>>8&255,n=255&l,c.push(t),64!==a&&(c.push(i),64!==s&&c.push(n))}while(u<e.length);return c}function Fe(e,t){return e.charCodeAt(Math.floor(t%e.length))}function ze(e,t){return t.split("").qSelect(function(t,i){return t.charCodeAt(0)^Fe(e,i)})}function He(e,t){return t.qSelect(function(t,i){return String.fromCharCode(t^Fe(e,i))}).join("")}function Me(t){return t?(t=e.extend(!0,{valid:!0,enabled:!0},t),qt.push(t),{cancel:function(){t.valid=!1}}):null}function Ae(t){return e.isFunction(t)?t():t}function Pe(t){return t?(t=e.extend(!0,{valid:!0,enabled:!0},t),Ot.push(t),{cancel:function(){t.valid=!1}}):null}var Ve=t.ZillionParts;Ve||(Ve=t.ZillionParts={Version:"2.4.4"}),"now"in Date==!1&&(Date.now=function(){return(new Date).getTime()}),t.assertTrue=function(e,t){if(!e)throw new Error("Assertion failed: "+t)},t.returnInputValue=function(e){return e},t.notImplemented=function(){throw new Error("Not implemented.")},t.alwaysFalse=function(){return!1},t.alwaysTrue=function(){return!0},t.always=function(e){return t.returnInputValue.bind(t,e)};var qe=t.createDigitToken6=function(){return""+(1e3+8999*Math.random()|0)+(10+Date.now()%89|0)};t.createDigitToken8=function(){return""+(1e3+8999*Math.random()|0)+(1e3+Date.now()%8999|0)},t.createDigitToken12=function(){return""+(1e7+89999999*Math.random()|0)+(1e3+Date.now()%8999|0)};Function.prototype.zpImpl||(Function.prototype.zpImpl=function(e){return e.constructor==Function?(this.prototype=new e,this.prototype.constructor=this,this.prototype.parent=e.prototype):(this.prototype=e,this.prototype.constructor=this,this.prototype.parent=e),this});var Oe=0,Le={cIndex:0};n.prototype={name:function(e){return this._name=e,this},inherits:function(e,t){return this._inherits=[[e,t]],this},proto:function(e){return this._publics=[e],this},constructor:function(e){return this._constructor=e,this},end:function(){var e=this._inherits,t=this._publics,i=this._constructor,n=[],r=this._name||"Anonymous"+ ++Oe;i&&n.push(i);for(var o=[],a=0,s=n.length;a<s;a++)o.push("_constructor["+a+"].apply(this, arguments);");var l=e[0]&&e[0][0],u=["var f = function "+r+"() { "+o.join("")+" };",l?"f.prototype = new _c();":"f.prototype = {};","for (i = 0, ii = _publics.length; i < ii; i++) $.extend(true, f.prototype, _publics[i]);","return f;"];return new Function("_context","_publics","_constructor","_c",u.join(""))(Le,t,n,l)}},t.zpClass=function(e){return(new n).name(e)},t.zpProperty=function(e){var t,i=e,n=[],r=function(e,t){for(var i,r=n.slice(0),o=0,a=r.length;o<a;o++)i=r[o],i.enabled&&i.callback(e,t)};return t=function(){if(0===arguments.length)return t.read();if(1===arguments.length){var e=arguments[0],i=t.read();return t.write(e),r(e,i),i}},t.read=function(){return i},t.write=function(e){i=e},t.subscribe=function(e){n.push({enabled:!0,callback:e})},t.unsubscribe=function(e){for(var t=n.qWhere("callback !== $params",e),i=n.qWhere("callback === $params",e),r=0,o=i.length;r<o;r++)i[r].enabled=!1;n=t},t},t.zpProperty.custom=function(e,t){var i=new zpProperty;return i.read=e,i.write=t,i},t.zpProperty.read=function(e){return e instanceof t.zpProperty?e():e},t.zpSelectProperties=function(e,t,n){var r=i,o=[];t=Re(t)||I;for(var a in e)if(e.hasOwnProperty(a)){var s=t(e[a],a,n);s!==r&&o.push(s)}return o},t.zpForEachProperty=function(e,t,i){t=Re(t)||alwaysTrue;for(var n in e)if(e.hasOwnProperty(n)){var r=t(e[n],n,i);if(!1===r)break}},t.newString=function(e,t){for(var i="";e-- >0;)i+=t;return i};var Re,Be,Ne,We=function(e,t){return e===t};!function(){var e=!0,t={},i="",n=null,r={},o="",s=null,l={},u=0,c=0,d=0,h=0,p=0,f=0,m=0,g=0,v=0,y=0;a({ArrayQuery:{Statistics:function(){console.log("Predicate compile count: "+u),console.log("Predicate cache count: "+c),console.log("Predicate cache hit count: "+d),console.log("Predicate cache hit+ count: "+h),console.log("Predicate cache miss count: "+p),console.log("Function instance count: "+f),console.log("Function compile count: "+m),console.log("Function cache hit count: "+v)},PredicateCache:function(i){e=!!i,t=e?{}:null,r=e?{}:null,c=d=h=p=0,g=v=y=0}}}),setInterval(function(){var e=g+c;e>100&&gt("Predicate + function cache above 100! "+e)},3e4),Ne=function(){f++;var e,t,i,n,r,o={},a={};this.get=function(s,l){return s.length%2==0?e===s?t:(r=o[s],r?v++:(l=l.concat([s]),r=Function.constructor.apply(null,l),m++,o[s]=r,g++,y++),e=s,t=r,r):i===s?n:(r=a[s],r?v++:(l=l.concat([s]),r=Function.constructor.apply(null,l),m++,a[s]=r,g++,y++),i=s,n=r,r)}};Re=function(e){if("string"==typeof e){var a,l=e,f=l.length%2==0,m=f?t:r;if(m){if(f){if(i===l)return++h,n}else if(o===l)return++h,s;if(a=m[l])return++d,f?(i=l,n=a):(o=l,s=a),a;++p}e=new Function("$item, $index, $params","with ($item) { return ("+e+"); }"),++u,m&&(m[l]=e,++c,f?(i=l,n=e):(o=l,s=e))}return e},Be=function(e){if("string"==typeof e){var t,i=e;if(l){if(t=l[i])return++d,t;++p}e=new Function("$left, $right, $params","return ("+e+");"),++u,l&&(l[i]=e,++c)}return e}}(),function(e,t){"use strict";var i="",n="?",r="function",o="undefined",a="object",s="string",l="model",u="name",c="type",d="vendor",h="version",p="architecture",f="console",m="mobile",g="tablet",v="smarttv",y="wearable",_={extend:function(e,t){for(var i in t)-1!=="browser cpu device engine os".indexOf(i)&&t[i].length%2==0&&(e[i]=t[i].concat(e[i]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===s?e.split(".")[0]:t}},w={rgx:function(){for(var e,i,n,s,l,u,c,d=0,h=arguments;d<h.length&&!u;){var p=h[d],f=h[d+1];if(typeof e===o){e={};for(s in f)l=f[s],typeof l===a?e[l[0]]=t:e[l]=t}for(i=n=0;i<p.length&&!u;)if(u=p[i++].exec(this.getUA()))for(s=0;s<f.length;s++)c=u[++n],l=f[s],typeof l===a&&l.length>0?2==l.length?typeof l[1]==r?e[l[0]]=l[1].call(this,c):e[l[0]]=l[1]:3==l.length?typeof l[1]!==r||l[1].exec&&l[1].test?e[l[0]]=c?c.replace(l[1],l[2]):t:e[l[0]]=c?l[1].call(this,c,l[2]):t:4==l.length&&(e[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):t):e[l]=c||t;d+=2}return e},str:function(e,i){for(var r in i)if(typeof i[r]===a&&i[r].length>0){for(var o=0;o<i[r].length;o++)if(_.has(i[r][o],e))return r===n?t:r}else if(_.has(i[r],e))return r===n?t:r;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},x={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,h],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[u,h],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,/(Edge)\/((\d+)?[\w\.]+)/i],[[u,"IE"],h],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],h],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[u,h],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],h],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],h],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[h,[u,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[h,[u,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[h,[u,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[h,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[h,w.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],h],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,_.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",_.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,_.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,d,[c,g]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[d,"Apple"],[c,g]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,l,[c,g]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[d,"Amazon"],[c,g]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,w.str,b.device.amazon.model],[d,"Amazon"],[c,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,d,[c,m]],[/\((ip[honed|\s\w*]+);/i],[l,[d,"Apple"],[c,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,l,[c,m]],[/\(bb10;\s(\w+)/i],[l,[d,"BlackBerry"],[c,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[l,[d,"Asus"],[c,g]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[l,"Xperia Tablet"],[c,g]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[d,"Sony"],[l,"Xperia Phone"],[c,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,l,[c,f]],[/android.+;\s(shield)\sbuild/i],[l,[d,"Nvidia"],[c,f]],[/(playstation\s[3portablevi]+)/i],[l,[d,"Sony"],[c,f]],[/(sprint\s(\w+))/i],[[d,w.str,b.device.sprint.vendor],[l,w.str,b.device.sprint.model],[c,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,l,[c,g]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[d,[l,/_/g," "],[c,m]],[/(nexus\s9)/i],[l,[d,"HTC"],[c,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[d,"Microsoft"],[c,f]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[d,"Microsoft"],[c,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[l,[d,"Motorola"],[c,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[d,"Motorola"],[c,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],l,[c,g]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[d,"Samsung"],l,[c,m]],[/(samsung);smarttv/i],[d,l,[c,v]],[/\(dtv[\);].+(aquos)/i],[l,[d,"Sharp"],[c,v]],[/sie-(\w+)*/i],[l,[d,"Siemens"],[c,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[d,"Nokia"],l,[c,m]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[d,"Acer"],[c,g]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],l,[c,g]],[/(lg) netcast\.tv/i],[d,l,[c,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[d,"LG"],[c,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[d,"Lenovo"],[c,g]],[/linux;.+((jolla));/i],[d,l,[c,m]],[/((pebble))app\/[\d\.]+\s/i],[d,l,[c,y]],[/android.+;\s(glass)\s\d/i],[l,[d,"Google"],[c,y]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g," "],[d,"Xiaomi"],[c,m]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[c,_.lowerize],d,l]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,h],[/rv\:([\w\.]+).*(gecko)/i],[h,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[h,w.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[h,w.str,b.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[u,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],h],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],h],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],h],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,h],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[h,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[u,h]]},C=function(t,n){if(!(this instanceof C))return new C(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:i),o=n?_.extend(x,n):x;return this.getBrowser=function(){var e=w.rgx.apply(this,o.browser);return e.major=_.major(e.version),e},this.getCPU=function(){return w.rgx.apply(this,o.cpu)},this.getDevice=function(){return w.rgx.apply(this,o.device)},this.getEngine=function(){return w.rgx.apply(this,o.engine)},this.getOS=function(){return w.rgx.apply(this,o.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r),this};C.VERSION="0.7.8",C.BROWSER={NAME:u,MAJOR:"major",VERSION:h},C.CPU={ARCHITECTURE:p},C.DEVICE={MODEL:l,VENDOR:d,TYPE:c,CONSOLE:f,MOBILE:m,SMARTTV:v,TABLET:g,WEARABLE:y,EMBEDDED:"embedded"},C.ENGINE={NAME:u,VERSION:h},C.OS={NAME:u,VERSION:h},typeof exports!==o?(typeof module!==o&&module.exports&&(exports=module.exports=C),exports.UAParser=C):typeof define===r&&define.amd?define(function(){return C}):e.UAParser=C;var I=e.jQuery||e.Zepto;if(typeof I!==o){var k=new C;I.ua=k.getResult(),I.ua.get=function(){return k.getUA()},I.ua.set=function(e){k.setUA(e);var t=k.getResult();for(var i in t)I.ua[i]=t[i]}}}(this),e.support.borderRadius=!0;var je={},$e=(new UAParser).getBrowser(),Ue=$e.name.toLowerCase(),Ke=parseInt($e.major),Ge=/^ie$|^ie mobile$/.test(Ue),Ze=Ke;Ge&&(je.sbr=function(){if(e.support.borderRadius)return 9==parseInt(Ze,10)}),je.touch=function(){if("ontouchstart"in t||t.DocumentTouch&&document instanceof t.DocumentTouch)return!0},je.ie=function(){if(Ge)return!0},je.ie8=function(){if(Ge&&8===Ze)return!0},je.ie9=function(){if(Ge&&9===Ze)return!0},je.ie10=function(){if(Ge&&10===Ze)return!0},je.ie11=function(){if(Ge&&11===Ze)return!0},je.msedge=function(){if(Ge&&12===Ze)return!0},r(),e(function(){r()}),Date.prototype.daysOffsetTo=function(e){return o(this,e)};var Je=[],Xe=t.localStorage.ZPWinKey=t.sessionStorage.MyZPWinKey||(t.sessionStorage.MyZPWinKey="ZPW"+qe()),Qe=zpProperty(!0),Ye=new Date,et=0;e(t).on("blur",function(){Qe(!1),et=new Date}),e(t).on("focus",function(){Qe(!0),Ye=new Date,t.localStorage.ZPWinKey=Xe,Je.qEach(function(e){t.localStorage["ZPWinKey"+e]=Xe})}),a({IsWindowActive:Qe,IsLastActiveWindow:function(e){var i=t.localStorage["ZPWinKey"+(e||"")];return Qe()&&i!==Xe&&(t.localStorage["ZPWinKey"+(e||"")]=i=Xe),i===Xe}});var tt=function(){function n(e){return e!==i&&null!==e}function r(e,t,i){return n(e)?e:n(t)?t:n(i)?i:""}function o(e,t){function i(e,o,a){var s;return--e>0?(s=a.replace(/(\{((\w+)\,)?(\d+|[a-z][a-z0-9_]*)\})/gi,function(a,s,u,c,d){var h,p,f,m=c||o;return m&&(h=l[m])?(p=m+","+d,-1===n.indexOf(p)?(n.push(p),f=i(e,m,r(t[d],h[d],d)+""),n.pop(),f):(n.push(p),ft("Localize: Recursive dictionary loop in "+n.qSelect('"[" + $item + "]"').join(" -> ")+"."),n.pop(),r(t[d],h[d],d)+"")):(p=d,-1===n.indexOf(p)?(n.push(p),f=i(e,null,r(t[d],d)+""),n.pop(),f):(n.push(p),ft("Localize: Recursive loop in "+n.qSelect('"[" + $item + "]"').join(" -> ")+"."),n.pop(),r(t[d],d)+""))}),e++,s):(ft("Localize: Formatting string to deeply nested: "+n.qSelect('"[" + $item + "]"').join(" -> ")+"."),a)}t=t||{};var n=[];return i(10,null,e+"")}function a(e,t){var i,n=l[e]||(l[e]={});for(var r in t)t.hasOwnProperty(r)&&(i=t[r],"string"==typeof i?n[r]=i:ft("Localize: Attempt to register non string into the dictionary "+e+","+r+"."))}function s(){return e.extend(!0,{},l)}var l={};return t.console&&(t.console.logfmt=function(e,t){console.log(o(e,t))}),{Format:o,Extend:a,Export:s}}();e.extend(e.ui.dialog,{getTitleId:function(e){return e=e.attr("id"),e||(e=this.uuid+=1),"udt"+e}});var it=function(){var e=/d{1,4}|M{1,4}|yy(?:yy)?|([HhmsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(o,a,s){var l=it;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(a=o,o=i),o instanceof Date==0&&(o=o?new Date(o):new Date),isNaN(o))throw SyntaxError("invalid date");a=String(l.masks[a]||a||l.masks.default),"UTC:"==a.slice(0,4)&&(a=a.slice(4),s=!0);var u=s?"getUTC":"get",c=o[u+"Date"](),d=o[u+"Day"](),h=o[u+"Month"](),p=o[u+"FullYear"](),f=o[u+"Hours"](),m=o[u+"Minutes"](),g=o[u+"Seconds"](),v=o[u+"Milliseconds"](),y=s?0:o.getTimezoneOffset(),_={d:c,dd:r(c),ddd:l.i18n.dayNames[d],dddd:l.i18n.dayNames[d+7],M:h+1,MM:r(h+1),MMM:l.i18n.monthNames[h],MMMM:l.i18n.monthNames[h+12],yy:String(p).slice(2),yyyy:p,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),m:m,mm:r(m),s:g,ss:r(g),l:r(v,3),L:r(v>99?Math.round(v/10):v),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:s?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(y>0?"-":"+")+r(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return a.replace(e,function(e){return e in _?_[e]:e.slice(1,e.length-1)})}}();it.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/d/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"h:mm TT",mediumTime:"h:mm:ss TT",longTime:"h:mm:ss TT Z",isoDate:"yyyy-MM-dd",isoTime:"HH:mm:ss",isoDateTime:"yyyy-MM-dd'T'HH:mm:ss",isoUtcDateTime:"UTC:yyyy-MM-dd'T'HH:mm:ss'Z'"},it.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return it(this,e,t)},function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery)}(this,function(e){var n={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:"fast",direction:"both",viewPadding:0},o=/^(?:html)$/i,a=function(t,i){i=i||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var n=!(!document.defaultView||!document.defaultView.getComputedStyle),r={top:parseFloat(n?i.borderTopWidth:e.css(t,"borderTopWidth"))||0,left:parseFloat(n?i.borderLeftWidth:e.css(t,"borderLeftWidth"))||0,bottom:parseFloat(n?i.borderBottomWidth:e.css(t,"borderBottomWidth"))||0,right:parseFloat(n?i.borderRightWidth:e.css(t,"borderRightWidth"))||0};return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,vertical:r.top+r.bottom,horizontal:r.left+r.right}},s=function(i){var n=i[0],r=o.test(n.nodeName),s=r?e(t):i;return{border:r?{top:0,left:0,bottom:0,right:0}:a(n),scroll:{top:s.scrollTop(),left:s.scrollLeft(),maxtop:n.scrollHeight-n.clientHeight,maxleft:n.scrollWidth-n.clientWidth},scrollbar:r?{right:0,bottom:0}:{right:s.innerWidth()-n.clientWidth,bottom:s.innerHeight()-n.clientHeight},rect:r?{top:0,left:0,bottom:n.clientHeight,right:n.clientWidth}:n.getBoundingClientRect()}};e.fn.extend({scrollintoview:function(a){function l(e,t){g[t.prop]=Math.floor(e)}function u(t){e.each(g,function(e,t){Math.floor(v[e]())!=Math.floor(t)&&(a.complete=null,h.stop("scrollintoview"))})}a=e.extend({},r,a),a.direction=n["string"==typeof a.direction&&a.direction.toLowerCase()]||n.both,"number"==typeof a.viewPadding?a.viewPadding={x:a.viewPadding,y:a.viewPadding}:"object"==typeof a.viewPadding&&(a.viewPadding.x==i&&(a.viewPadding.x=0),a.viewPadding.y==i&&(a.viewPadding.y=0));var c="";!0===a.direction.x&&(c="horizontal"),!0===a.direction.y&&(c=c?"both":"vertical");var d=this.eq(0),h=d.parent().closest(":scrollable("+c+")");if(h.length>0){h=h.eq(0);var p={e:s(d),s:s(h)},f={top:p.e.rect.top-(p.s.rect.top+p.s.border.top),bottom:p.s.rect.bottom-p.s.border.bottom-p.s.scrollbar.bottom-p.e.rect.bottom,left:p.e.rect.left-(p.s.rect.left+p.s.border.left),right:p.s.rect.right-p.s.border.right-p.s.scrollbar.right-p.e.rect.right},m={};if(!0===a.direction.y&&(f.top<0?m.scrollTop=Math.max(0,p.s.scroll.top+f.top-a.viewPadding.y):f.top>0&&f.bottom<0&&(m.scrollTop=Math.min(p.s.scroll.top+Math.min(f.top,-f.bottom)+a.viewPadding.y,p.s.scroll.maxtop))),!0===a.direction.x&&(f.left<0?m.scrollLeft=Math.max(0,p.s.scroll.left+f.left-a.viewPadding.x):f.left>0&&f.right<0&&(m.scrollLeft=Math.min(p.s.scroll.left+Math.min(f.left,-f.right)+a.viewPadding.x,p.s.scroll.maxleft))),e.isEmptyObject(m))e.isFunction(a.complete)&&a.complete.call(h[0]);else{var g={},v=h;o.test(h[0].nodeName)&&(h=e("html,body"),v=e(t)),v.on("scroll",u),h.stop("scrollintoview").animate(m,{duration:a.duration,step:l,queue:"scrollintoview"}).eq(0).queue("scrollintoview",function(t){v.off("scroll",u),e.isFunction(a.complete)&&a.complete.call(h[0]),t()}),h.dequeue("scrollintoview")}}return this}});var l={auto:!0,scroll:!0,visible:!1,hidden:!1},u=function(e,t){t=n["string"==typeof t&&t.toLowerCase()]||n.both;var i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,r={x:l[i.overflowX.toLowerCase()]||!1,y:l[i.overflowY.toLowerCase()]||!1,isRoot:o.test(e.nodeName)};if(!r.x&&!r.y&&!r.isRoot)return!1;var a={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(r.x||r.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(r.y||r.isRoot)&&this.height.scroll>this.height.client}};return t.y&&a.scrollableY()||t.x&&a.scrollableX()};e.expr[":"].scrollable=e.expr.createPseudo(function(e){return function(t){return u(t,e)}})}),a({Condition:M,Data:{ArrayQuery:$,UnpackHArray:N,PackHArray:W,FilterArray:L,MatchObject:O,WildCardToRegex:B,Grab:H,DataSet:A,DataGrouping:P,DataSelection:V,RemoveCacheProperties:z},Event:S,EventData:E,EventHandler:F,Notifications:{Manager:ee,Item:te},UI:{RenderHighlightFunc:ge,CreateOverlay:ye},Utility:{ParseUri:b,ParseUrn:w},Localize:tt,Select:{ArraySource:_e},CommandList:Z,CommandManager:K,CommandResources:J,CommandBinding:X,TriggerCommand:Q,Support:{}}),a({IdleMonitor:new ve,Window:{ResizeWatch:new k}}),t.locfmt||(t.locfmt=tt.Format),t.ZillionParts.DateFormat=it,setTimeout(function(){Date.prototype.format=function(e,t){return it(this,e,t)}},0),e(function(){Date.prototype.format=function(e,t){return it(this,e,t)}});var nt=function(){},rt=["log","info","warn","error","assert","dir","clear","profile","profileEnd"],ot=!!t.console,at=Ge&&Ze<10;!function(){if(ot){if(!at)for(var e=Function.prototype.bind&&ot&&"object"==typeof console.log,i=0,n=rt.length;i<n;i++){var r=rt[i];t.console[r]||(t.console[r]=nt),e&&(t.console[r]=Function.prototype.bind.call(t.console[r],t.console))}}else t.console={log:function(){}}}();var st=at?function(e){return e.currentStyle}:t.getComputedStyle.bind(t),lt=function(){console.log(Array.prototype.join.call(arguments," "))},ut=function(){t.alert("Zillion Parts: "+JSON.stringify(arguments))},ct=t.localStorage&&t.localStorage.debug,dt=c("benchmark"),ht=c("trace"),pt=c("debug"),ft=ht?lt:nt,mt=pt?lt:nt,gt=pt?ut:lt,vt=pt?function(e,t){e||console.log(t)}:nt;t.zpDebugProxy=s,t.zpClearDebugMode=d,t.zpTestDebugMode=c,t.zpSetDebugMode=h,pt&&ft("Zillion Parts: Running in debug mode"),dt&&ft("Zillion Parts: Running in benchmark mode"),ht||console.log('Zillion Parts: Trace logging disabled. Run zpSetDebugMode("trace") to enable.');var yt=s("promise");t.zpTracePromise=p,"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)===e}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.slice(-e.length)===e}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.remove=function(){for(var e,t,i=arguments,n=i.length;n&&this.length;)for(e=i[--n];-1!==(t=this.indexOf(e));)this.splice(t,1);return this},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){t=t||0;for(var i=this.length;t<i;){if(this[t]===e)return t;++t}return-1}),e.ui.dialog.maxZ=500,jQuery.fn.extend({getPath:function(e){if(void 0===e&&(e=""),this.is("html"))return"html"+e;var t=this.get(0);if(null!=t){t=t.nodeName.toLowerCase();var i=this.attr("id"),n=this.attr("class");void 0!==i?t+="#"+i:void 0!==n&&(t+="."+n.split(/[\s\n]+/).join("."));var r=this.parent();return r&&r.length?r.getPath(" > "+t+e):"####"+e}return"####"+e}}),t.throttle=function(e,t,i){e._id&&(clearTimeout(e._id),e._id=null);var n=t||e.callback;if(n){var r=0===i?0:i||i||e.delay;e._id=setTimeout(function(){n()},r)}},t.throttleStop=function(e){e._id&&(clearTimeout(e._id),e._id=null)},t.throttleFunc=function(e,t,i){return function(){throttle(e,t,i)}},a({Delay:g,DelayCall:v,FloodProtect:y,DelegateDeferred:m,IsControlKey:function(e){return!(e>47&&e<58||32==e||13==e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223)},zIndex:function(){return e.ui.dialog.maxZ},Setup:{NextInput:{Selectors:[":input:visible",".zpselect:visible"],Exceptions:[":disabled",":hidden",".zpselect-disabled"]}},Element:{StackToTop:f},Promise:{Delegate:x}}),"serializeObject"in e.fn==0&&(e.fn.serializeObject=function(){var t={},n=this.serializeArray();return e.each(n,function(){var n=t[this.name];n!==i?(!1===e.isArray(n)&&(n=t[this.name]=[n]),n.push(this.value||null)):t[this.name]=this.value||null}),t}),e.fn.postJson=function(t){e.ajax(e.extend(!0,{type:"post",contentType:"application/json; charset=utf-8"},t))},e.fn.bounds=function(){var e=this.first(),t=e.position(),i=parseInt(e.css("margin-left"),10),n=parseInt(e.css("margin-top"),10);return{left:t.left+i,top:t.top+n,width:e.outerWidth(!1),height:e.outerHeight(!1)}},e.fn.databound=function(){e(this).trigger("databound")},e.fn.focusNextInput=function(){var t=Ve.Setup.NextInput,i=t.Selectors,n=e(this).nextAll(i.join(",")),r=t.Exceptions;r.qEach(function(e){n=n.not(e)}),n=n.first(),0===n.length&&(n=e(this).prevAll(i.join(",")),r.qEach(function(e){n=n.not(e)}),n=n.last()),n.focus()},w.options={strictMode:!1,keys:{strict:["source","namespace","specification"],loose:["source","protocol","namespace","specification"]},parser:{strict:/^urn:((?:[a-z0-9][a-z0-9]+)):(([\w#!:.?+=&%@!\-\/])+)?/i,loose:/^((?:[a-z][a-z]+)):((?:[a-z0-9][a-z0-9]+)):(([\w#!:.?+=&%@!\-\/])+)?/i}},b.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.Deferred.serialize=function(t){if(!e.isArray(t)||0===t.length)return e.Deferred().resolve().promise();for(var i=t[0](),n=1,r=t.length;n<r;n++)i=i.then(t[n]);return i},e.Deferred.parallelize=function(t){return e.isArray(t)&&0!==t.length?e.when.apply(this,_.map(t,function(e){return e()})):e.Deferred().resolve().promise()},e.Deferred.serializeAlways=function(i){var n,r;n=r=e.Deferred();for(var o,a=0,s=i.length;a<s;a++){o=i[a];var l=e.Deferred();r.always(x.bind(t,l,o)),r=l}return n.resolve(),r.promise()};var _t="urn:epoch:",wt=_t.length,bt=function(e,t){if("string"==typeof t){if(t.length<40&&t.substring(0,wt)===_t)return new Date(parseInt(t.substr(wt)))}else if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(t[i]=bt(i,t[i]));return t};a({ParseJson:C,PostProcessJson:bt.bind(t,null),Trace:T}),e.ajaxSetup({converters:{"text json":C}}),function(){Function.prototype.trace=function(){for(var e=[],t=this;t;)e.push(t.signature()),t=t.caller;return e},Function.prototype.signature=function(){var e={name:this.getName(),params:[],toString:function(){var e=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+e+")"}};if(this.arguments)for(var t=0;t<this.arguments.length;t++)e.params.push(this.arguments[t]);return e};var e=/^function ([^\s(]+).+/;Function.prototype.getName=function(){if(this.name)return this.name;var t=this.toString().split("\n")[0];return e.test(t)?t.split("\n")[0].replace(e,"$1")||"anonymous":"anonymous"}}();var xt=null;!function(){function i(t){t=e.extend(!0,{type:"GET",data:null,dataType:"json",url:null,async:!0},t);var i=e.Deferred(),n=new XMLHttpRequest;switch(n.onreadystatechange=function(){4==n.readyState&&(200==n.status?i.resolve(C(n.responseText)):500==n.status?i.reject({error:!0,code:500,message:o,details:o}):402==n.status?i.reject({error:!0,code:402,message:a,details:a}):i.reject({error:!0,code:n.status,message:s,details:s}))},n.open(t.type,t.url,t.async),t.dataType){case"json":n.setRequestHeader("Content-Type","application/json;charset=UTF-8")}return t.data?n.send(t.data):n.send(),i.abort=function(){n.abort(),i.reject({error:!0,message:r,details:r})},i}function n(t){t=e.extend(!0,{type:"GET",data:null,dataType:"json",url:null,async:!0},t);var i=e.Deferred(),n=new ActiveXObject("Microsoft.XMLHTTP");switch(n.onreadystatechange=function(){4==n.readyState&&(200==n.status?i.resolve(C(n.responseText)):500==n.status?i.reject({error:!0,code:500,message:o,details:o}):402==n.status?i.reject({error:!0,code:402,message:a,details:a}):i.reject({error:!0,code:n.status,message:s,details:s}))},n.open(t.type,t.url,t.async),t.dataType){case"json":n.setRequestHeader("Content-Type","application/json;charset=UTF-8")}return t.data?n.send(t.data):n.send(),i.abort=function(){n.abort(),i.reject({error:!0,message:r,details:r})},i}xt=t.XMLHttpRequest?i:t.ActiveXObject?n:function(){throw Error("No ajax support")},t.zpAjax=xt;var r="Request cancelled.",o="Internal server error.",a="Unauthorized request.",s="Unexpected error during the request."}(),Ve.Html=D,D.toHtmlLineEnding=function(e){return e.replace(/\r?\n/g,"<br/>")},D.prototype.parseText=function(e){return this.content=D.toHtmlLineEnding(e),this},Object.areEqual=function(e,t){if(e===t)return!0;var n,r,o=null===e||e===i,a=null===t||t===i;if(o&&a)return!0;if(o)return!1;if(a)return!1;if(e.hasOwnProperty("length")&&t.hasOwnProperty("length")){if((r=e.length)!==t.length)return!1;for(n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}for(n in t){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(e[n]!==t[n])return!1}return!0},e.fn.findDataField=function(t){return e(this).find("[data-field='"+t+"']")};var Ct=t.toSortKey=function(e){return e===i||null===e?"":e.toSortKey&&e.toSortKey()||(""+e).toLowerCase()};Date.prototype.toSortKey=function(){return this.getTime()},Number.prototype.toSortKey=function(){return this},String.prototype.toSortKey=function(){return this?this.toLowerCase():null},Boolean.prototype.toSortKey=function(){return this.valueOf()?1:0};var It=new Ne;V.Adding="adding",V.Added="added",V.Removing="removing",V.Removed="removed",V.Clearing="clearing",V.Cleared="cleared",Array.prototype.qSum=function(e){if(0===this.length)return 0;e=Re(e);for(var t=0,i=0,n=this.length;i<n;i++)t+=+e(this[i],i,n);return t},Array.prototype.qExcept=function(e,t,i){var n,r,o=[],a=this.length,s=e.length;if(0==s)return this.slice();t=Be(t)||We;for(var l=0;l<a;l++){r=!0,n=this[l];for(var u=0;u<s;u++)if(t(n,e[u],i)){r=!1;break}r&&o.push(n)}return o},Array.prototype.qIntersect=function(e,t,i){var n,r,o=[],a=this.length,s=e.length;if(0==s)return this.slice(0);t=Be(t)||We;for(var l=0;l<a;l++){r=!1,n=this[l];for(var u=0;u<s;u++)if(t(n,e[u],i)){r=!0;break}r&&o.push(n)}return o},Array.prototype.except=Array.prototype.qExcept,Array.prototype.intersect=Array.prototype.qIntersect,Array.prototype.query=function(){return new $(this)},$.prototype.where=function(e,t){return this.script("__newItems = [];"),this.script("for (var __i = 0, __ii = __items.length; __i < __ii; ++__i) {"),this.script("with(__items[__i]) { if ("+e+") { __newItems.push(__items[__i]); } }"),this.script("}"),this.script("__items = __newItems;"),this},$.prototype.select=function(e){return this.script("__newItems = [];"),this.script("for (var __i = 0, __ii = __items.length; __i < __ii; ++__i) {"),this.script("with(__items[__i]) { __newItems.push("+e+"); }"),this.script("}"),this.script("__items = __newItems;"),this},$.prototype.orderBy=function(e){if(e){var t="function(__a, __b) { with (__a) { __a = ("+e+") }; with (__b) { __b = ("+e+") } if (__a == __b) return 0; return (__a < __b) ? -1 : 1; }";this.script("__items.sort("+t+");")}else this.script("__items.sort();");return this},$.prototype.orderByDescending=function(e){if(e){var t="function(__a, __b) { with (__a) { __a = ("+e+") }; with (__b) { __b = ("+e+") } if (__a == __b) return 0; return (__a > __b) ? -1 : 1; }";this.script("__items.sort("+t+");")}else this.script("__items.sort();"),this.script("__items.reverse();");return this},function(t){function i(e,t){return[e,t]}t.prototype.qGroupBy=function(e,t){var i,n,r=this,o={},a=0,s=r.length;if(s>0)for(e=Re(e)||I;a<s;++a)i=r[a],n=e(r[a],a,t),(o[n]||(o[n]=[])).push(i);return o},t.prototype.qMap=function(e,t,i){var n,r=this,o={},a=0,s=r.length;if(s>0)for(e=Re(e)||I,t=Re(t)||I;a<s;++a)n=r[a],o[e(n,a,i)]=t(n,a,i);return o},t.prototype.qSelect=function(e,t){var i,n=this,r=[],o=0,a=n.length;if(a>0)for(e=Re(e)||I;o<a;++o)i=n[o],r.push(e(i,o,t));return r},t.prototype.qSelectNonNull=function(e,t){var i,n=this,r=[],o=0,a=n.length;if(a>0)for(e=Re(e)||I;o<a;++o)i=n[o],null!==(i=e(i,o,t))&&r.push(i);return r},t.prototype.qSelectMany=function(t,i){var n,r=this,o=[],a=0,s=r.length;if(s>0)for(t=Re(t)||I;a<s;++a)n=t(r[a],a,i),e.isArray(n)?o=o.concat(n):o.push(n);return o},t.prototype.qWhere=function(e,t){if(e){var i,n=this,r=[],o=0,a=n.length;if(a>0)for(e=Re(e);o<a;++o)i=n[o],e(i,o,t)&&r.push(i);return r}return this.slice(0)},t.prototype.qDistinct=function(e,t){var i,n,r=this,o=[],a=0,s=r.length;if(s>0)if(e=Re(e))for(var l=[];a<s;++a)i=r[a],n=e(i,t),-1===l.indexOf(n)&&(l.push(n),o.push(i));else for(;a<s;++a)i=r[a],-1===o.indexOf(i)&&o.push(i);return o},t.prototype.qAny=function(e,t){var i=this,n=0,r=i.length;if(r>0)for(e=Re(e)||I;n<r;++n)if(e(i[n],n,t))return!0;return!1},t.prototype.qContains=function(e){return-1!==this.indexOf(e)},t.prototype.qForEach=function(e,t){for(var i,n=this.length;i<n&&!1!==e(this[i],i,t);i++);},t.prototype.qAll=function(e,t){var i=this,n=0,r=i.length;for(e=Re(e)||I;n<r;++n)if(!e(i[n],n,t))return!1;return!0};var n=new Ne;t.prototype.qSort=function(t){var i=function(e,t){return t?'if (a["'+e+'"]<b["'+e+'"])return 1;if (a["'+e+'"]>b["'+e+'"])return -1;':'if (a["'+e+'"]>b["'+e+'"])return 1;if (a["'+e+'"]<b["'+e+'"])return -1;'},r="";"string"==typeof t?r+=i(t):e.isArray(t)&&t.qEach(function(e){r+=i(e)}),r+="return 0;";var o=n.get(r,["a","b"]);return this.sort(o)},t.prototype.qFirst=function(e,t){var i=this;if(i.length>0){if(e){var n=i.qWhere(e,t);return 0===n.length?null:n[0]}return i[0]}return null},t.prototype.qLast=function(e,t){var i=this,n=i.length;if(n>0){if(e){var r=i.qWhere(e,t);return 0===r.length?null:r[r.length-1]}return i[n-1]}return null},t.prototype.qReverse=function(){var e=this.slice(0);return e.reverse(),e},t.prototype.qTake=function(e){return this.slice(0,e)},t.prototype.qSkip=function(e){return this.slice(e,this.length)},t.prototype.qJoin=function(e,t,n,r){t=Be(t),n=Be(n)||i;for(var o,a,s=0,l=0,u=this.length,c=e.length,d=[];s<u;++s)for(o=this[s],l=0;l<c;++l)a=e[l],t(o,a,r)&&d.push(n(o,a,r));return d},t.prototype.qEach=j,t.prototype.qSingleOrNull=function(e,t){var i=this.qWhere(e,t);return 1===i.length?i[0]:null},t.prototype.qCount=function(e,t){return this.qWhere(e,t).length}}(t.Array),e.fn.commandBinding=function(t){var i=[];return e(this).each(function(){i.push(Ve.CommandBinding(this,t))}),0==i.length?null:1==i.length?i[0]:i},e.fn.triggerCommand=function(t,i,n,r){var o=[];return e(this).each(function(){o.push(Ve.TriggerCommand(this,t,i,n,r))}),0==o.length?null:1==o.length?o[0]:o},e.fn.setCommand=function(t,i,n){return e(this).each(function(){Y(this,t,i,n)}),this},e.extend(!0,e.ui,{inputex:{defaults:{disabled:!1,hoverDelay:250,fadeInTime:300,fadeOutTime:300,hoverOpacity:1,disabledClass:"",activeClass:"",hoverClass:"",inactiveClass:""}}}),e.widget("rogan.inputex",{options:e.ui.inputex.defaults,_state:null,_create:function(){var t=this,i=t.options,n=e(t.element),r=n.children("div[editor]");t._inFocus=!1,t._inHover=!1,t._inShownPrev=null,n.addClass("zp-inputex"),r.css({opacity:0}).hide(),t.refresh();var o=!1,a=!1,s=(new Ve.Delay(function(){t.refresh()},0,!0),new Ve.Delay(function(){a==t._inHover&&o==t._inFocus||(t._inHover=a,t._inFocus=o,t.refresh())},i.hoverDelay,!0)),l=new Ve.Delay(function(){a==t._inHover&&o==t._inFocus||(t._inHover=a,t._inFocus=o,t.refresh())},2*i.hoverDelay,!0);n.on("focusin",function(e){o=!0,s()}).on("click",function(e){n.find(":tabbable:first").focus(),o=!0,s()}).on("focusout",function(e){o=!1,s()}).hover(function(){a=!0,s()},function(){a=!1,l()}),r.children().addClass("zp-inputex-element")},_changeState:function(e){var t=this,i=t.options,n=t.element,r=n.children("div[editor]"),o=n.children("div[preview]");if(e!==t._state){switch(e){case"focus":n.addClass("x-activate zp-inputex-focus "+t.options.activeClass+" "+t.options.hoverClass),n.removeClass("zp-inputex-inactive "+t.options.inactiveClass),o.hide(),r.show(),t._select(),r.animate({opacity:1,marginTop:0},i.fadeInTime/2|0,function(){o.hide(),o.css({marginTop:20,opacity:0}),r.show()});break;case"hover":n.addClass(t.options.hoverClass),n.removeClass("zp-inputex-inactive x-activate "+t.options.activeClass),o.hide(),r.show(),r.animate({opacity:i.hoverOpacity,marginTop:0},i.fadeInTime,function(){o.hide(),o.css({marginTop:20,opacity:0}),r.show()});break;default:n.removeClass("x-activate "+t.options.activeClass+"  "+t.options.hoverClass),n.addClass("zp-inputex-inactive "+t.options.inactiveClass),r.animate({opacity:0,marginTop:-20},0,function(){r.hide(),o.animate({marginTop:0,opacity:1},i.fadeOutTime),o.show()})}setTimeout(function(){t.layout()},0),this.layout()}},refresh:function(){var e=this,t=e.options,i=e.element;t.disabled?(e._inFocus=e._inHover=!1,i.addClass(e.options.disabledClass)):i.removeClass(e.options.disabledClass),e._inFocus?e._changeState("focus"):e._inHover?e._changeState("hover"):e._changeState("normal")},_select:function(){var e=this,t=e.element,i=t.children("div[editor]"),n=i.find('input[type="text"]:first');n.length?n.select():(0===n.length&&(n=i.find(":tabbable:first")),n.length&&n[0].focus())},layout:function(){var t=this,i=t.element,n=i.children("div[editor]"),r=i.width(),o=0;n.children().each(function(){var t=e(this);t.is("[autosize]")||(o+=t.outerWidth(!0))});var a=n.children("[autosize]"),s=r-o-8,l=s/a.length|0;a.each(function(){var t=e(this),i=t.outerWidth(!0)-t.width();t.width(l-i)})}}),e(function(){e(".zp-inputex").inputex(),e("body").on("databound",function(){e(".zp-inputex").inputex()}),e(t).resize(function(){e(".zp-inputex:visible").inputex("layout")})}),e.fn.positionAfter=function(e,t){for(var i=0,n=t.length;i<n;i++)if(t[i]&&t[i].length>0)return void this.insertAfter(t[i]);this.prependTo(e)},e.widget("rogan.groupPanel",{options:{autoSize:!1,toolBar:null,commands:null,title:null,height:null,width:null,fill:!1,fillMargin:null,textPanel:!1},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,n=e.ui.dialog.getTitleId(t.element),r=t._panelElement=t.element.is(".ui-group-panel")?e(t.element):e("<div></div>").insertAfter(t.element).addClass("ui-group-panel"),o=e(r.children(".ui-group-panel-toolbar.top")[0]||e("<div></div>").addClass("ui-group-panel-toolbar top")),a=r.children(".ui-group-panel-header");if(1===a.length){a.addClass("ui-helper-clearfix"),this._panelTitleBar=a;var s=a.find(".ui-group-panel-title:first");s.attr("id",n),null===i.title&&(i.title=s.html())}else if(this.options.title){var l=e('<div class="ui-group-panel-header ui-helper-clearfix"></div>').prependTo(r);e('<span class="ui-group-panel-title"></span>').attr("id",n).html(i.title).prependTo(l);this._panelTitleBar=l}this.options.toolBar&&(this._panelToolBar=o,e(this.options.toolBar).appendTo(o),o.positionAfter(r,[this._panelTitleBar]));var u=r.children(".ui-group-panel-content");if(1===u.length)u.addClass(""),this._panelContent=u;else{var c=t.element.removeAttr("title").addClass("ui-group-panel-content");c.positionAfter(r,[this._panelToolBar,this._panelTitleBar]),this._panelContent=c}this.options.textPanel&&this.element.addClass("text-panel"),this._panelTitleBar&&this._panelTitleBar.disableSelection();var d=r.children(".ui-group-panel-toolbar.bottom");if(1===d.length)d.addClass("ui-helper-clearfix"),this._panelCommandBar=d;else if(i.commands){var h=e('<div class="ui-group-panel-toolbar bottom ui-helper-clearfix"></div>'),p=e("<div></div>").addClass("ui-dialog-buttonset ui-helper-clearfix").appendTo(h);e(i.commands).appendTo(p),h.positionAfter(r,[this._panelContent,this._panelToolBar,this._panelTitleBar]),this._panelCommandBar=h}t._panel=r,t._panelHeader=l,t._panel.on("focusin",function(){t._panel.addClass("ui-group-panel-shadow")}).on("focusout",function(){t._panel.removeClass("ui-group-panel-shadow")})},_init:function(){this._updateData()},_updateData:function(){var e=this._panelContent.outerWidth(!0)-this._panelContent.width(),t=this._panelContent.outerHeight(!0)-this._panelContent.height();if(this.options.fill)return void this.fitToParent();var i=this.options.height||"auto",n=this.options.width||"auto";if("auto"==i)this._panelElement.css("height","auto"),this.element.css("height","auto");else{var r=i;this._panelTitleBar&&(r-=this._panelTitleBar.outerHeight(!0)),this._panelToolBar&&(r-=this._panelToolBar.outerHeight(!0)),this._panelCommandBar&&(r-=this._panelCommandBar.outerHeight(!0)),this._panelContent&&(r-=t),this._panel.css("height","auto"),this._panelContent.css("height",r+"px")}if("auto"==n)this._panelElement.css("width","auto"),this.element.css("width","auto");else{var o=n;this._panelElement&&(o-=e),this._panel.css("width",n+"px"),this._panelContent.css("width",o+"px")}},addedHeight:function(){var t=this._panelElement.outerHeight()-this._panelElement.height(),i=this.element.outerHeight()-this.element.height(),n=[this._panelTitleBar,this._panelToolBar,this._panelCommandBar],r=t+i;return e.each(n,function(e,t){t&&(r+=t.outerHeight(!0))}),r},fitToParent:function(){var e=this._panelElement.outerWidth(!0)-this._panelElement.width(),t=this._panelElement.outerHeight(!0)-this._panelElement.height(),i=(this.element.outerHeight(!0),this.element.height(),this._panelElement.offsetParent().height()-t),n=(this._panelElement.offsetParent().width(),this.addedHeight());this._panelElement.css({height:i-t,width:"auto"}),this.element.css({height:i-n,width:"auto"})},widget:function(){return this._panel},header:function(){return this._panelHeader},content:function(){return this._panelContent},_refresh:function(){this._updateData(),e("#"+e.ui.dialog.getTitleId(this.element)).html(this.options.title)},_destroy:function(){this.element.removeClass("ui-group-panel")},_setOptions:function(){e.Widget.prototype._setOptions.apply(this,arguments),this._refresh()},_setOption:function(t,i){0!=/height|width|title/.test(t)&&e.Widget.prototype._setOption.call(this,t,i)}});var kt={appendTo:"body",position:"left bottom",width:300,defaultTtl:3e4};!function(e){e.widget("rogan.listbox",{_create:function(){this.selectedList=e('<ul class="ui-multiselect selected" style="float: left;"></ul>').appendTo(this.element),this.availableList=e('<ul class="ui-multiselect available" style="float: right;"></ul>').appendTo(this.element),this.selectedList.width("45%"),this.availableList.width("45%"),this.populateLists(),this.options.sortable&&e(this.selectedList).sortable({axis:"y",distance:5,update:function(t,i){e(this).find(".ui-multiselect-item").each(function(t,i){e(i).data("item").idx=t})}}),this.element.disableSelection()},destroy:function(){this.selectedList.remove(),this.availableList.remove(),e.Widget.prototype.destroy.apply(this,arguments)},populateLists:function(){this.selectedList.empty(),this.availableList.empty();var t=this,i=t.options.items,n=i.filter(function(e){return e.selected}),r=i.filter(function(e){return!e.selected});n.sort(function(e,t){return e=e.idx,t=t.idx,e===t?0:e>t?1:-1}),r.sort(function(e,t){return e=e.text,t=t.text,e===t?0:e>t?1:-1}),e.each(n,function(){var i=e('<li class="ui-multiselect-item ui-state-default"><span class="ui-multiselect-item-move ui-icon"></span>'+this.text+'<a class="ui-multiselect-item-toggle ui-link"><span class="ui-corner-all ui-icon"></span></a></li>').data("item",this);i.appendTo(t.selectedList),t.applyItemState(i)}),e.each(r,function(){var i=e('<li class="ui-multiselect-item ui-state-default"><span class="ui-multiselect-item-move ui-icon"></span>'+this.text+'<a class="ui-multiselect-item-toggle ui-link"><span class="ui-corner-all ui-icon"></span></a></li>').data("item",this);i.appendTo(t.availableList),t.applyItemState(i)})},applyItemState:function(t){var i=this;t.data("item").selected?(e(t).removeClass("ui-priority-secondary"),this.options.sortable?e(t).find("span:first").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):e(t).find("span:first").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e(t).find("a.ui-multiselect-item-toggle span").addClass("ui-icon-minus").removeClass("ui-icon-plus")):(e(t).find("span:first").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e(t).find("a.ui-multiselect-item-toggle span").addClass("ui-icon-plus").removeClass("ui-icon-minus")),e(t).find("a.ui-multiselect-item-toggle span").click(function(){if(t.data("item").selected=!t.data("item").selected){var n=0;e.each(i.options.items,function(e,t){t.selected&&(n=Math.max(n,t.idx))}),t.data("item").idx=++n,e.each(i.options.items,function(e,t){t.selected||(t.idx=++n)})}t.hide("blind",200,function(){i.populateLists()})})}})}(jQuery),function(e){e.widget("rogan.loadingOverlay",{options:{message:"Loading...",compact:!1,overlayClass:null,messageClass:null,delay:100,show:"fade",hide:"fade",showOverlayAfter:0,hideMessageAfter:300,overlayPosition:{at:"left top",my:"left top",collision:"none"},messagePosition:{collision:"none"}},_shown:!1,_fluidsUpdated:function(){var e=this;e._shown&&e._layout()},_create:function(){var i=this,n=i.options,r=i.element,o=r,a=o;a.is([t])&&(a=e("body"));var s=e('<div class="loading-overlay" style="display: none"></div>').appendTo(a),l=e('<div class="loading-overlay-message" style="display: none"></div>').appendTo(s);n.overlayClass&&s.addClass(n.overlayClass),!0===n.compact&&l.addClass("loading-overlay-message-compact"),n.messageClass&&l.addClass(n.messageClass),!1===o.is([t])&&"static"===o.css("position")&&o.css("position","relative"),i.maskMessage=l,i.mask=s,i.parent=o,i.maskMessage.disableSelection(),i.mask.disableSelection(),i.refresh()},destroy:function(){var e=this,t=e.mask;e._clearTimer(),e.hide(),t.remove()},_clearTimer:function(){var e=this,t=e.element;t.data("_mask_timeout")!==i&&(clearTimeout(t.data("_mask_timeout")),t.removeData("_mask_timeout"))},_show:function(){var e=this,t=e.element,i=e.options;e._clearTimer(),e._shown||(t.addClass("masked"),e.mask.show(),e._shown=!0,e.maskMessage.stop(!0,!0).fadeIn(200,function(){e._layout()}),e.refresh(),setTimeout(function(){e._layout()},0),i.showOverlayAfter>190&&setTimeout(function(){e._layout()},i.showOverlayAfter+10))},_layout:function(){var i,n=this,r=n.options,o=n.element,a=n.mask,s=n.maskMessage;if(n._shown){var l=a.is(":visible");if(i=o.is([t])?{left:0,top:0,right:0,bottom:0,width:"auto",height:"auto",position:"fixed"}:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},a.css(i),l){var u=e.extend(!0,{of:n.element},r.overlayPosition);a.position(u)}if(s){var c=e.extend(!0,{of:n.element},r.messagePosition);s.css({left:0,top:0}).position(c)}}},refresh:function(){var t=this,i=t.options,n=t.maskMessage,r=e("<div></div>").append(i.message);n.empty().append(r),t._layout()},_moveToTop:function(){var e=this,t=e.mask.nextAll(":visible");t.length>0&&e.mask.insertAfter(t.last())},show:function(){var e=this,t=e.options,i=e.element;e._clearTimer(),e._moveToTop(),t.delay>0?i.data("_mask_timeout",setTimeout(function(){e._show()},t.delay)):e._show()},hide:function(){var e=this,t=e.element,i=e.options;e._clearTimer(),e._shown&&(t.removeClass("masked"),t.find("select").removeClass("masked-hidden"),e.mask.hide(),e._shown=!1,e.maskMessage.stop(!0,!0).delay(i.hideMessageAfter).fadeOut(200))}})}(jQuery),e.widget("rogan.virtualizedDataView",{options:{dataView:null,keyField:"id",sort:[],onSorting:function(e){},onRowCreated:function(e,t){},onRowsRendering:function(){},onRowsRendered:function(){}},_usedElements:{},_unusedElements:{},_create:function(){},destroy:function(){},_setDataInformation:function(e,t,i){var n=i[this.options.keyField];if(void 0===n)throw Error("Key not found for item of index "+t+".");return e.data("item",{row:t,key:n})},_removeDataInformation:function(e){return e.data("item",null)},_getDataKey:function(e){return e.data("item").key},_createItemElement:function(t){var i=this;i.options;return i._initItemElement(e("<div></div>"),t)},_initItemElement:function(e,t){var i=this,n=i.options,r=i.options.dataView.getItemByIdx(t),o=i._renderItemElement(i._setDataInformation(e,t,r),r);return n.onRowCreated(o,r),o},_clearItemElement:function(e){return this._removeDataInformation(e).empty()},_renderItemElement:function(t,i){return e("<span>"+JSON.stringify(i)+"</span>").appendTo(t),t},_currentSortList:null,_scrollingPreviewFieldID:null,_applySort:function(){var t=this,i=t.options,n=i.dataView,r=i.sort;if(n){if(e.isFunction(i.onSorting)){var o=i.onSorting(r.slice(0));e.isArray(o)&&(r=o)}var a=n.getKeyField();r.qAny("fieldID === $params",a)||r.push({fieldID:a,asc:!0}),t._scrollingPreviewFieldID=r.qSelectNonNull(function(e){return t._columnsConfig.qFirst("fieldID === $params && scrollingPreview === true",e.fieldID)}).qSelect("fieldID").qFirst();var s=r.qSelect(function(e){var i=t._columnsConfigFieldMap[e.fieldID];return{fieldID:i&&(i.sortFieldID||i.fieldID)||e.fieldID,asc:e.asc}});n.sort(re(t._currentSortList=s),!0)}},_lastSortFieldID:null,_lastSortFieldCount:0,setFieldSort:function(e,t){var i=this,n=i.options,r=n.sort,o=!1;if(void 0===t){var a;if(e===i._lastSortFieldID?a=++i._lastSortFieldCount:(i._lastSortFieldID=e,i._lastSortFieldCount=a=1),a%3==0)o=!0;else{var s=r.qSingleOrNull("fieldID === $params",e);if(s){t=0===r.indexOf(s)?!s.asc:s.asc}else t=!0}}r=r.qWhere("fieldID !== $params",e),o||(r.reverse(),r.push({fieldID:e,asc:t}),r.reverse()),n.sort=r}});var Tt={enabled:!1,renderViewCount:0,renderViewTime:0},Dt=zpDebugProxy("grid");e.extend(!0,t,{ZillionParts:{Performance:{VirtualDataGrid:function(){Tt.enabled||(Tt.enabled=!0);var t=e.extend(!0,{},Tt);return t.renderViewAvg=t.renderViewCount>0?t.renderViewTime/t.renderViewCount:0,t}}}});var St=new Ne;e.widget("rogan.virtualDataGrid",e.rogan.virtualizedDataView,{_onSettingsChanged:null,_renderer:null,_itemRenderer:null,onSettingsChanged:function(){return this._onSettingsChanged},options:{columns:[],rowClass:null,rowHeight:30,headerClass:null,headerHeight:30,showFilterRow:!1,fillColumnWidth:!1,gridLines:"both",columnDefaults:{scrollingPreview:!1,createFilterMethod:ue,renderFieldID:null,filterFieldID:null,sortFieldID:null,dataType:"general",allowFilter:!1,allowSort:!1,allowResize:!1,allowExportHtml:!0,visible:!0,width:120},selection:null,singleSelect:"always",handleSelection:!0,filterDelay:200,userColumns:[],createEmptyDataItem:oe,emptyDataItemClass:"virtual-data-grid-empty-data-item",expandMode:"one",onItemExpanding:function(e,t){return null},onItemCollapsed:function(e,t){return null},onFilterCreated:function(e){}},_columnsConfig:[],_columnsConfigFieldMap:{},_compileColumnOptions:function(){function t(e){var t={};e.qEach(function(e,i){if(!e)throw Dt.trace("VirtualDataGrid: Undefined or null column; If you are running in IE, is there an empty column definition in the grid options? (i.e. [ columnA, columnB, ])"),Error(locfmt("VirtualDataGrid: Column at index "+i+" is null or undefined.",{index:i}));var n=e.fieldID;if(!n)throw Error(locfmt("VirtualDataGrid: Null or undefined field ID at column index {index}.",{index:i}));if(t[n])throw Error(locfmt("VirtualDataGrid: Duplicate field ID {fieldID} at column index {index}.",{index:i,fieldID:n}));t[n]=!0})}var n=this,r=n.options,o=function(e){return r.userColumns.qFirst("fieldID === $params",e)};t(r.columns);var a=r.columns.qSelectNonNull(function(t,n){var a=o(t.fieldID),s=a?a.dataType:null,l=s||t.dataType||r.columnDefaults.dataType||"general",u=e.ui.virtualDataGrid.dataTypes[l];u||(u={renderMethod:function(){return"Unknown data type: "+l}});var c={visibleIndex:n,cache:function(e){return e.$cache||(e.$cache={})},cacheItem:function(e,t,n){var r=this.cache(e),o=r[t];return o==i&&(o=r[t]=n()),o}},d=e.extend(!0,c,r.columnDefaults,u,t,a);return!1===d.visible?null:(d.renderFieldID?(d.filterFieldID||(d.filterFieldID=d.fieldID),d.sortFieldID||(d.sortFieldID=d.fieldID),d.fieldID=d.renderFieldID):(d.renderFieldID=d.fieldID,d.filterFieldID||(d.filterFieldID=d.fieldID),d.sortFieldID||(d.sortFieldID=d.fieldID)),d)});a.qSort("visibleIndex"),n._itemRenderer.compile(n,n.element,a,ae.bind(n.element,r.selection,r)),n._columnsConfig=a,n._columnsConfigFieldMap=a.qMap("$item.fieldID")},_applyUserColumns:function(t){var i=this,n=i.options;e.each(t,function(){function t(e){return n.userColumns.qSingleOrNull("fieldID === $params",e)}function r(e){return i._columnsConfig.qSingleOrNull("fieldID === $params",e)}var o=this;if("string"!=typeof o.fieldID)throw Error("ApplyUserColumns: fieldID should be a string (not "+typeof o.fieldID+").");var a=t(o.fieldID);a?e.extend(!0,a,o):n.userColumns.push(o),e.extend(!0,r(o.fieldID),o)}),i.onUserSettingsChanged()},applyUserColumns:function(e){var t=this;t._applyUserColumns(e),t.refresh()},_fillColumns:function(){var t=this,i=[],n=0,r=t._viewportBounds.width-1,o=r,a=0;e.each(t._columnsConfig,function(e,t){!0===t.allowResize?(i.push({fieldID:t.fieldID,width:t.width}),n+=t.width,a=e):(r-=t.width,o-=t.width)}),e.each(i,function(e,t){if(e===a)t.width=o;else{var i=Math.floor(t.width/n*r);t.width=i,o-=i}}),t._applyUserColumns(i),t._applyColumnHeaderWidths(),t._applyColumnWidths()},fillColumns:function(){var e=this;e._fillColumns(),e.refresh()},_expandedItems:{},_expandedItemsCompiled:[],_updateExpandedItems:function(){var e=this,t=e.options.dataView;zpForEachProperty(e._expandedItems,function(i,n){i.idx=t.getIdxByKey(n),-1===i.idx?e.collapse(n):i.parent?i.height=i.element.outerHeight(!0):i.height=0})},_compileExpandedItems:function(){for(var e=this,t=e.options.dataView,i=new Array(t.getItems(!1).length),n={},r=0,o=i.length;r<o;r++)i[r]=n;zpForEachProperty(e._expandedItems,function(e){i[e.idx]=e}),e._expandedItemsCompiled=i},_isItemExpanded:function(e){return e in this._expandedItems},_collapseAll:function(){var t=this,i=t.options;zpForEachProperty(t._expandedItems,function(t,n){t.element.remove(),t.parent&&e(t.parent).remove(),t.parent=null,e.isFunction(i.onItemCollapsed)&&i.onItemCollapsed(n)}),t._expandedItems={},t.refresh("asap")},_collapseItem:function(t){var i=this,n=i.options,r=i._expandedItems[t];r&&(r.element.remove(),r.parent&&e(r.parent).remove(),r.parent=null,delete i._expandedItems[t],e.isFunction(n.onItemCollapsed)&&n.onItemCollapsed(t))},_expandItem:function(t){var i=this,n=i.options,r=n.dataView,o=i._expandedItems;if(i._isItemExpanded(t))return void(o[t].autoFocus=!0);if("one"===n.expandMode)for(var a in o)o.hasOwnProperty(a)&&a!==t&&i._collapseItem(a);if(e.isFunction(n.onItemExpanding)){var s=r.getIdxByKey(t),l=r.getItemByKey(t),u=e("<div></div>"),c=n.onItemExpanding(l,u);null!==c&&(c=void 0===c?u:e(c),c.on("selectstart",function(e){e.stopPropagation()}),o[t]={key:t,idx:s,element:c,height:c.outerHeight(!0),parent:null,autoFocus:!0})}},expand:function(e){var t=this;t._expandItem(e),t.refresh("asap")},collapse:function(e){var t=this;t._collapseItem(e),t.refresh("asap")},toggle:function(e){var t=this;t._isItemExpanded(e)?(t._collapseItem(e),t.refresh("asap")):(t._expandItem(e),t.refresh("asap"))},collapseAll:function(){this._collapseAll()},_viewportBounds:{},_updateViewportBounds:function(){var e=this,t=e.viewport,i=t.scrollLeft(),n=t.scrollTop(),r=t.width(),o=t.height();return e._viewportBounds={left:i,top:n,height:o,width:r}},_create:function(){var t=this,i=t.options,n="vdg_"+Math.round(1e6*Math.random()),r=t.element.addClass("virtual-data-grid").addClass(n),o=e("<div></div>").addClass("virtual-data-grid-header ui-helper-clearfix").appendTo(r),a=e("<div></div>").addClass("virtual-data-grid-columns").appendTo(o),s=e("<div></div>").addClass("virtual-data-grid-filters").appendTo(o),l=e("<div></div>").addClass("virtual-data-grid-viewport").attr("tabindex",0).appendTo(r),u=e("<div></div>").addClass("virtual-data-grid-canvas").css({width:1e3}).appendTo(l);t._onSettingsChanged=new Ve.Event,t._itemRenderer=new pe,t.uid=n,t.header=o,t.columns=a,t.filters=s,t.viewport=l,t.canvas=u,t._setGridLines(i.gridLines),t.canvas.disableSelection(),t._delayRenderVisibleView=Ve.Delay(t._renderVisibleView,100,!1),i.selection.onChange.subscribe(function(i,n){if("cleared"===n.type)e(zpSelectProperties(t._renderer.elements,"$item[0]")).removeClass("virtual-data-grid-item-selected");else if("added"===n.type){var r=t._renderer.elements[n.keys];r&&r.addClass("virtual-data-grid-item-selected")}else if("removed"===n.type){var r=t._renderer.elements[n.keys];r&&r.removeClass("virtual-data-grid-item-selected")}}),t._columnsChanged=!0,t._updateFilterTimer=Ve.Delay(t.updateFilter,i.filterDelay,!0),t._renderer=new he,t._renderer.renderItem=se.bind(t),t.viewport.bind("keydown",function(e){switch(e.keyCode){case 38:if(i.handleSelection){var n=t.options.dataView.getIdxByKey(i.selection.getKeys()[0])-1,r=i.dataView.getItemByIdx(n);if(r)return i.selection.add(r.$key),t._focus(n,!1),!1}case 40:if(i.handleSelection){var n=t.options.dataView.getIdxByKey(i.selection.getKeys()[0])+1,o=i.dataView.getItemByIdx(n);if(o)return i.selection.add(o.$key),t._focus(n,!0),!1}case 33:if(i.handleSelection){var n=t.options.dataView.getIdxByKey(i.selection.getKeys()[0])-10,r=i.dataView.getItemByIdx(n);if(r)return i.selection.add(r.$key),t._focus(n,!1),!1}case 34:if(i.handleSelection){var n=t.options.dataView.getIdxByKey(i.selection.getKeys()[0])+10,o=i.dataView.getItemByIdx(n);if(o)return i.selection.add(o.$key),t._focus(n,!0),!1}}});var c=e('<div class="virtual-data-grid-scrollingPreview" style="position: absolute; z-index: 10; background: #222; background: rgba(80,80,80,0.9); border-radius: 4px; color: #fff; padding: 2px 5px; white-space: pre; text-shadow: 0 0 2px #000"></div>'),d=e('<span class="virtual-data-grid-scrollingPreview-text"></span>').appendTo(c),h=0,p=function(){h&&clearTimeout(h),h=setTimeout(function(){h=0,c.hide()},1e3)},f=function(e){c.position({my:"right-20 center",at:"right center",of:r,collision:"none"}),c.is(":visible")?d.text(e):(d.text(e),c.show()),p()};c.appendTo(r);var m,g;t.viewport.bind("scroll",function(){var e=t._updateViewportBounds();t.columns.css("left",-1e3-e.left),t.filters.css("left",-1e3-e.left);var n=t._scrollingPreviewFieldID;if(n)try{var r=t._viewportBounds,o=t._createLayoutSystem(),a=o.skipUntil(r.top).idx,s=o.skipUntil(r.top+r.height).idx;if(a!==m||s!==g){var l=i.dataView.getItemByIdx(a),u=i.dataView.getItemByIdx(s),c=""+l[n],d=""+u[n];f(c.substr(0,10)+"...\r\n---\r\n"+d.substr(0,10)+"..."),m=a,g=s}}catch(e){Dt.trace("LookatMe: "+e)}t.__renderData.time<100?t._renderVisibleView():t._delayRenderVisibleView()}),t.columns.on("click",".virtual-data-grid-column-grip",!1).on("click",".virtual-data-grid-column",function(){var i=e(this).data("column");!0===i.allowSort&&(t.setFieldSort(i.fieldID),t.updateSort(i.fieldID),t.refresh(),t.onUserSettingsChanged())});var v=null;t.canvas.on("dblclick",".virtual-data-grid-item",function(i){var n=e(this),r=t._getDataKey(n);v===r&&t._itemDblClick(i,n)}),t.canvas.on("click",".virtual-data-grid-item",function(i){var n=e(this),r=t._getDataKey(n);("detail"in i==!1||i.detail<=1)&&(t._itemClick(i,n),v=r)}),t.refresh()},_itemClick:function(e,t){var i=this,n=i._getDataKey(t),r=i.options,o=r.selection,a=r.dataView.getItemByKey(n,!0);i._trigger("itemclick",e,{item:a})&&r.handleSelection&&("always"===r.singleSelect?o.add(n):o.toggle(n))},_itemDblClick:function(e,t){var i=this,n=i._getDataKey(t),r=i.options,o=r.selection,a=r.dataView.getItemByKey(n,!0);i._trigger("itemdblclick",e,{item:a})&&r.handleSelection&&o.add(n)},_destroy:function(){},_updateFilterTimer:null,_filterChanged:function(){this._updateFilterTimer()},clearFilter:function(){this.filters.find(".virtual-data-grid-filter-input").val("")},updateFilter:function(){var t=this,i=t.options,n=t.filters.find(".virtual-data-grid-filter-input"),r={};if(n.each(function(t,i){var n=e(i),o=n.data("column"),a=o.filterFieldID,s=n.val();a&&s&&""!=s&&(r[a]=o.createFilterMethod(s))}),e.isFunction(i.onFilterCreated)){var o=i.onFilterCreated(r);void 0!==o&&(r=o)}i.dataView.setFilter(r),i.dataView.refresh(),t.refresh()},_updateSortHeaders:function(){var t,i,n=this,r=n.options,o=r.sort,a=n._columnsConfig,s=n.columns;i=s.children(),i.each(function(i,n){t=e(n);var r=t.find(".virtual-data-grid-column-order");r.empty();var s=a[i],l=s.fieldID,u=o.qSingleOrNull("fieldID === $params",l);if(u){var c=o.indexOf(u),d=.2;switch(c){case 0:d=1;break;case 1:d=.6;break;case 2:d=.4}c++,!1===u.asc?e('<div class="ui-icon ui-icon-triangle-1-s"></div>').attr("title","Sort descending").css({opacity:d}).appendTo(r):e('<div class="ui-icon ui-icon-triangle-1-n"></div>').attr("title","Sort ascending").css({opacity:d}).appendTo(r)}else s.allowSort&&e('<div class="ui-icon ui-icon-carat-2-n-s"></div>').attr("title","Click to sort").css({opacity:.2}).appendTo(r)})},onUserSettingsChanged:function(){var e=this,t=e.options,i=t.sort;e._onSettingsChanged.notify({sort:i,columns:t.userColumns},null,e)},updateSort:function(){var e=this;e._applySort(),e._updateSortHeaders()},visitVisibleItems:function(e){var t=this,i=t._renderer,n=t.options.dataView,r=i.elements;zpForEachProperty(r,function(t,i){e(i,n.getItemByKey(i),t)})},_lastRender:{},_clearExpansions:function(){var t=this,i=t._expandedItems;zpForEachProperty(i,function(t){t.element.detach(),t.parent&&e(t.parent).remove(),t.parent=null})},_clearCanvas:function(){var e=this;null!==e._emptyDataItem&&(e._emptyDataItem.remove(),e._emptyDataItem=null)},__renderData:{count:0,items:[],time:0},_renderVisibleView:function(){var e=this,t=Date.now(),n=e._viewportBounds,r=e._expandedItemsCompiled,o=e.options.dataView.getItems(!1),a=o.length,s=e._createLayoutSystem();n.top>0&&s.skipUntil(n.top),s.idx>0&&s.substract(1);var l=10,u=l+s.idx%l;s.idx-u>0?s.substract(u):s.substract(s.idx);var c=e.__renderData;c.count=0;var d=n.top+n.height,h=s.idx,p=c.items;if(a){var f=o[0];if(vt(f,"No data"),f){var m=f.$key;vt(null!==m&&m!==i,"No key in data")}}for(var g,v;s.currentTop<d&&s.idx<a;)g=s.idx,v=o[g],vt(v,"No data"),l=p[c.count]||(p[c.count]={idx:0,top:0,data:null,element:null,expansion:null}),l.idx=g,l.top=s.currentTop,l.data=v,l.element=null,l.expansion=r[g],c.count++,s.next();var y=e._itemCount-1,_=Math.min(y,s.idx+2*l-s.idx%l);if(_<=y)for(;g<_;)g=s.idx,v=o[g],vt(v,"No data"),l=p[c.count]||(p[c.count]={idx:0,top:0,data:null,element:null,expansion:null}),l.idx=g,l.top=s.currentTop,l.data=v,l.element=null,l.expansion=r[g],c.count++,s.next();var w=h+c.count;e._clearCanvas(),e._lastRender={start:h,count:y,end:w,coreRenderTime:0},e._renderCore(s,e._lastRender,c),c.time=Date.now()-t},_headersCreated:!1,_headersColumnConfigJsonLast:"",_createHeaders:function(){var t=this,i=t.options,n=t._columnsConfig,r=JSON.stringify(n);if(r!==t._headersColumnConfigJsonLast){t._headersColumnConfigJsonLast=r;var o=t.columns.empty(),a=t.filters.empty();t._headersCreated&&(o.sortable("destroy"),t._headersCreated=!1);for(var s=0,l=n.length;s<l;s++)t._createHeaderElement(o,n[s]),!0===i.showFilterRow&&t._createFilterElement(a,n[s]);t.setupColumnOrderIcon(),t.setupColumnResize(),t._applyColumnHeaderWidths(),o.on("mousedown",".virtual-data-grid-column-grip",function(e){e.stopPropagation()}),o.sortable({containment:"parent",axis:"x",start:function(){t.canvas.css({opacity:.5})},stop:function(){t.canvas.css({opacity:1})},update:function(i,n){var r=o.children().map(function(t,i){return{fieldID:e.data(i,"column").fieldID,visibleIndex:t}});t._applyUserColumns(r),t._columnsChanged=!0,t.refresh()}}),o.sortable("refresh"),t._headersCreated=!0}},_createHeaderElement:function(t,i){var n=e("<div></div>").addClass("virtual-data-grid-column").addClass("ui-state-default").attr("data-header",i.fieldID).data("column",i).css({width:i.width}).appendTo(t);e("<span></span>").html(i.title).appendTo(n),n.disableSelection()},_createFilterElement:function(t,i){var n,r,o=this;n=e("<div></div>").addClass("virtual-data-grid-filter").css({width:i.width}).appendTo(t),r=e('<div class="virtual-data-grid-filter-box"></div>').appendTo(n),i.getCustomFilterControl?i.getCustomFilterControl(i,o.element).appendTo(r):!0===i.allowFilter&&e('<input class="virtual-data-grid-filter-input" type="text" />').data("column",i).attr("data-column-filter",i.fieldID).change(function(e){o._filterChanged()}).keydown(function(e){if(o._filterChanged(),13===e.keyCode)return!1}).appendTo(r)},_applyColumnHeaderWidths:function(){var e,t,i,n,r,o=this,a=o._columnsConfig,s=o.columns.children(),l=o.filters.children();for(i=0,r=s,n=r.length;i<n;i++)e=r[i],t=0|a[i].width,e.style.width!==t&&(e.style.width=t+"px");for(i=0,r=l,n=r.length;i<n;i++)e=r[i],t=0|a[i].width,e.style.width!==t&&(e.style.width=t+"px")},_applyColumnWidths:function(){for(var e,t,i=this,n=i.uid,r=i._columnsConfig,o=i.getItemWidth(),a=0,s=0,l=r.length;s<l;s++)e=r[s].width,t=i._findCssRule("."+n+" .l"+s),t.style.left=a+"px",t=i._findCssRule("."+n+" .r"+s),t.style.right=o-a-e+"px",a+=e;t=i._findCssRule("."+n+" .virtual-data-grid-item"),t.style.width=o+"px"},_findCssRule:function(e){for(var t=this,i=t.styleContext.stylesheet.cssRules||t.styleContext.stylesheet.rules,n=0;n<i.length;n++)if(i[n].selectorText==e)return i[n];return null},getItemWidth:function(){for(var e=this,t=(e.options,e._columnsConfig),i=t.length,n=0;i--;)n+=t[i].width;return n},_createStyleContext:function(){var t=this,i=t.uid,n=t.options,r=t._columnsConfig,o=n;t.styleContext&&e(t.styleContext.style).remove();for(var a,s=t.getItemWidth(),l=["."+i+" .virtual-data-grid-column { left: 1000px; height:"+o.headerHeight+"px; }","."+i+" .virtual-data-grid-columns { height:"+o.headerHeight+"px; line-height:"+(o.headerHeight-2)+"px; }","."+i+" .virtual-data-grid-cell { height:"+o.rowHeight+"px; line-height:"+(o.rowHeight-2)+"px; }","."+i+" .virtual-data-grid-item { width:"+s+"px; height:"+n.rowHeight+"px; }"],u=0,c=0;c<r.length;c++)a=r[c].width,l.push("."+i+" .l"+c+" { left: "+u+"px; }"),l.push("."+i+" .r"+c+" { right: "+(s-u-a)+"px; }"),u+=a;t.styleContext=le(l)},layout:function(){var e=this,t=e.options,i=e.viewport,n=e.canvas,r=t.dataView.getItems().length;e._recompile();var o=e._createLayoutSystem();o.skip(r);var a=e.header.outerHeight(),s=e.getItemWidth();i.css({height:e.element.height()-a}),n.css({height:o.currentTop,width:s});var l=Math.abs(e._viewportBounds.width-e.getItemWidth())<10,u=e._updateViewportBounds();u.height<u.maxHeight?e.viewport.addClass("virtual-data-grid-viewport-overflow"):e.viewport.removeClass("virtual-data-grid-viewport-overflow"),!0===t.fillColumnWidth?e._fillColumns():!1===t.fillColumnWidth||"auto"===t.fillColumnWidth&&l&&e._fillColumns(),zpForEachProperty(e._expandedItems,function(e){e.parent&&(e.height=e.element.outerHeight(!0))})},_itemCount:0,_refreshTh:null,_recompile:function(){var e=this;e._columnsChanged&&(e._compileColumnOptions(),e._createStyleContext(),e._createHeaders(),e._columnsChanged=!1)},refresh:function(e){var t=this,i=t._refreshTh,n=t.options,r=function(){t._lastRender=null,t._renderer.clear(),t._itemCount=n.dataView.getItems().length,t._updateExpandedItems(),t._compileExpandedItems(),t.layout(),t.updateSort(),t._renderVisibleView()};i?"asap"===e||t.__renderData.time<25?(r(),throttleStop(i)):throttle(i,r,100):(r(),t._refreshTh={})},_createLayoutSystem:function(){var e=this,t=e.options,i=e._expandedItemsCompiled,n=t.rowHeight-1,r=new ce;return r.heights=i.qSelect("(($item && $item.height)|0) + $params",n),r.getItemHeight=function(e){return this.heights[e]},r},_emptyDataItem:null,benchmark:function(e){function t(e){var t=Math.log(1),i=Math.log(1e3),n=(i-t)/999;return Math.exp(t+n*(e-1))}for(var i=this,n=1e3/15,r=5,o=Date.now()+(e||250),a=[],s=0;s<r;s++){i._lastRender=null,i._renderer.clear();var l=Date.now();i._renderVisibleView();var u=Date.now()-l;if(a.push({total:u,render:i._lastRender.coreRenderTime}),Date.now()>o)break}for(var c=0,d=0,h=0,p=a.length,f=0;f<p;f++)d+=a[f].total,c+=a[f].render,h+=a[f].total-a[f].render;var m=h,g=i._lastRender.end-i._lastRender.start;return{score:t(1e3-Math.min(n,c/p/g)*(1e3/n))/100,totalTime:c/p,timePerItem:c/p/g,overhead:m}},_renderCore:function(i,n,r){var o,a=this,s=(a.viewport,a.canvas),l=a.canvas[0],u=a.options,c=n.start,d=a._columnsConfig,h=n.end,p=a._renderer,f=a._itemRenderer,m=!1;if(0===c&&0===h){if(o=Date.now(),p.clear(),null===a._emptyDataItem){var g=u.createEmptyDataItem;if(e.isFunction(u.createEmptyDataItem)&&(g=u.createEmptyDataItem(a.element)),null!==g){var v=u.emptyDataItemClass+" l0 r"+(d.length-1);a._emptyDataItem=e('<div class="'+v+'"></div>').css({top:0,position:"absolute"}).html(g).appendTo(s)}}a._lastRender.coreRenderTime+=Date.now()-o}else{var y=t.document.createDocumentFragment(),_=t.document.createDocumentFragment();try{o=Date.now(),p.renderView(y,r),a._lastRender.coreRenderTime+=Date.now()-o}catch(e){p.renderItem=function(e,t){return f.renderMethodDebug(e,t.index,t.data)};try{p.renderView(y,r)}catch(e){throw Error("Error while rendering view: from item "+c+" to "+h+".\r\n"+e)}throw e}u.onRowsRendering();for(var w,b,x,C=r.items,I=null,k=null,T=0,D=r.count;T<D;T++){var S=C[T];0===S.generation&&(w=S.element[0],w.style.top=S.top+"px",y.appendChild(w)),b=S.expansion,b&&b.element&&(b.parent?(b.parent.className="l0 r"+(d.length-1),b.parent.style.top=S.top+u.rowHeight+"px"):(Dt.debug("Virtual Data Grid: Expansion New - "+S.data.$key),x=b.element,w=e('<div class="l0 r'+(d.length-1)+'" style="top: '+(S.top+u.rowHeight)+'px; position: absolute"></div>').append(x)[0],_.appendChild(b.parent=w),m=!0),b.autoFocus&&(b.autoFocus=!1,k=S.idx,I=b.parent))}u.onRowsRendered(),l.appendChild(y),l.appendChild(_)}null!==I&&null!==k&&(e(I).focusNextInput(),a._focus(k,"top")),Tt.enabled&&(Tt.renderViewCount++,Tt.renderViewTime+=Date.now()-o),m&&(a._updateExpandedItems(),a._renderVisibleView())},_setOptions:function(){var t=this,i=t.options;e.Widget.prototype._setOptions.apply(t,arguments),t._updateFilterTimer=Ve.Delay(t.updateFilter,i.filterDelay,!0)},_columnsChanged:!1,_setOption:function(t,i){if(!1!==/style|columns|request|dataView|sort|userColumns|onItemExpanding|onItemCollapsed|itemclick|itemdblclick/.test(t)){var n=this;/columns|userColumns|sort/.test(t)&&(i=i||{},n._columnsChanged=!0),e.Widget.prototype._setOption.call(n,t,i),/userColumns|sort/.test(t)&&n.onUserSettingsChanged(),/gridLines/.test(t)&&n._setGridLines(i),/columns|userColumns|sort/.test(t)&&n.refresh()}},_setGridLines:function(e){switch(this.canvas.removeClass("virtual-data-grid-lines-h"),this.canvas.removeClass("virtual-data-grid-lines-v"),this.canvas.removeClass("virtual-data-grid-lines-both"),e){case"both":this.canvas.addClass("virtual-data-grid-lines-both");break;case"h":this.canvas.addClass("virtual-data-grid-lines-h");break;case"v":this.canvas.addClass("virtual-data-grid-lines-v")}},setupColumnOrderIcon:function(){var t,i,n=this,r=n.columns;i=r.children(),i.find(".virtual-data-grid-column-order").remove(),i.each(function(i,n){t=e(n),e("<div class='virtual-data-grid-column-order'></div>").appendTo(n)})},setupColumnResize:function(){var t=this,i=t.columns,n=i.children();n.find(".virtual-data-grid-column-grip").remove();var r,o,a=0,s=0;n.each(function(i,n){var l=t._columnsConfig[i];!0===l.allowResize&&e("<div class='virtual-data-grid-column-grip' draggable='true' />").appendTo(n).on("click.virtualDataGrid",!1).on("dragstart.virtualDataGrid",function(e){o=t.options.fillColumnWidth,s=e.pageX,a=l.width,t.canvas.css({opacity:.5})}).on("drag.virtualDataGrid dragend.virtualDataGrid",function(e){!0===o||(r=Math.max(l.minWidth||20,a+(e.pageX-s)),t._applyUserColumns([{fieldID:l.fieldID,width:r}]),t._applyColumnHeaderWidths())}).on("dragend.virtualDataGrid",function(e){t._applyColumnWidths(),t.canvas.css({opacity:1}),t.refresh()})})},invalidate:function(t){var i=this,n=i.options,r=!1,o=i._lastRender;0===arguments.length?r=!0:e.each(t,function(e,t){i._renderer.invalidate.push(t);var a=n.dataView.getIdxByKey(t);if(a>=o.start||a<o.end)return r=!0,!1}),r&&(i._lastRender=null,i._renderVisibleView())},_focus:function(e,t){var i=this,n=i.viewport,r=i._viewportBounds,o=i._createLayoutSystem().skip(e),a=o.currentTop,s=o.height(),l=a+s/2,u=l-r.top,c=r.height/5,d=r.height-c,h=r.height/4,p=r.height-h;if("top"===t)n.animate({scrollTop:a},{duration:250,queue:!1});else if(u>c&&u<d);else{var f=t?h:p;n.animate({scrollTop:l-f},{duration:250,queue:!1}),n.focus()}},focus:function(e){this._focus(e,!0)},focusFirstSelection:function(){var e=this,t=e.options.dataView,i=e.options.selection;if(0!==i.getCount()){var n=i.getKeys()[0];e.focus(t.getIdxByKey(n))}},exportHtml:function(t){t=e.extend(!0,{tableClass:null,headColumnClass:null,rowClass:null},t);var i=this,n=i.options.dataView.getItems(),r=[],o='__html+="<tr'+(t.rowClass?' class="'+t.rowClass+'"':"")+'>";',a="<tr"+(t.rowClass?" "+t.rowClass:"")+">";i._columnsConfig.qEach(function(e,i){e.allowExportHtml&&(r[i]=e,a+="<th"+(t.headColumnClass?" "+t.headColumnClass:"")+">"+e.title+"</th>",e.exportMethod?(o+="__cell = __render["+(0|i)+'].exportMethod(__item["'+e.fieldID+'"], __item, __grid, { type: "html-table" });',o+="if (__cell) {",o+='__cell = $("<div></div>").append(__cell).html();',o+='} else { __cell = ""; }',o+='__html+=("<td>"+__cell+"</td>");'):e.renderMethod?(o+="__cell = __render["+(0|i)+'].renderMethod(__item["'+e.fieldID+'"], __item, __grid);',o+="if (__cell) {",o+='__cell = $("<div></div>").append(__cell).html();',o+='} else { __cell = ""; }',o+='__html+=("<td>"+__cell+"</td>");'):o+='__html+=("<td>"+(__item["'+e.fieldID+'"]||"")+"</td>");')}),o+='__html+="</tr>\\r\\n";',a+="</tr>";var s="";s+='var __html="",__item,__cell;',s+="for (var i = 0, ii = __data.length; i < ii; i++) { __item = __data[i]; "+o+" }",s+="return __html";var l=St.get(s,["__data","__render","__grid"]),u=l(n,r,i.element),c="";return c+="<table"+(t.tableClass?" "+t.tableClass:"")+">",c+="<thead>",c+=a,c+="</thead>",c+="<tbody>",c+=u,c+="</tbody>",c+="</table>"}});var Et={general:{},boolean:{renderMethod:function(e,t){return'<input type="checkbox" disabled="disabled"'+(e?' checked="true"':"")+'"></input>'}}};e.extend(!0,e.ui,{virtualDataGrid:{dataTypes:Et}}),de.prototype={cache:null,count:0,onRemove:function(e,t){},clean:function(){var e=this,t=e.cache;zpSelectProperties(t,function(e,t){return e.gen++>10?t:i}).qForEach(function(i,n){var r=t[n];e.count--,r.element.remove(),e.onRemove(n,r.element),delete t[n]})},getCount:function(){return this.cache.length},put:function(e,t){var i=this;i.remove(e),i.count++,i.cache[e]={gen:0,element:t}},get:function(e){var t=this.cache[e];return t?(t.gen=0,t.element):null},clear:function(){var e=this,t=e.cache;e.cache={},e.count=0,zpForEachProperty(t,function(t,i){t.element.remove(),e.onRemove(i,t.element)})},remove:function(e){var t=this,i=t.cache[e];i&&(t.count--,i.element.remove(),t.onRemove(e,i.element))},select:function(t){var i=this,n=e.map(i.cache,function(e){if(t(e.gen))return e.element});return e(n)}},he.prototype={elements:{},invalidate:[],clear:function(){var e=this;zpForEachProperty(e.elements,function(t,i){e.removeItem(i,t)}),e.elements={}},renderItem:function(t){return e("<span>No render method</span>")},removeItem:function(e,t){t.empty().remove()},renderView:function(e,t){for(var i=this,n=i.elements,r={},o=i.invalidate,a=0===o.length,s=t.items,l=0,u=t.count;l<u;l++){var c=s[l],d=c.data.$key,h=n[d];if(h&&(a||-1===o.indexOf(d)))delete n[d],c.element=h,c.generation=0;else try{h=i.renderItem(e,c),c.element=h,c.generation=0}catch(e){throw Error("Unable to render item with key "+d+".\r\n"+e)}r[d]=h}i.invalidate=[];for(var d in n)n.hasOwnProperty(d)&&i.removeItem(l,n[d]);i.elements=r}},pe.prototype={compile:function(e,t,i,n){function r(e){return e&&"string"==typeof e?document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML:e}function o(e){var t=i.length,r="var __key = __item.$key, __element, __content, __cells = new Array("+t+');__element = $("<div class=\'virtual-data-grid-item\'></div>");$.data(__element[0], "item", { item: __item, key: __key });';e&&(r+="try {");for(var o=0,a=t;o<a;o++)try{var s=i[o],l='(__htmlEncode(__item["'+(s.memberPath||s.fieldID)+'"]))';if(s.renderMethod){e&&(r+="try {");r+="__cells["+o+"] = $(\"<div class='virtual-data-grid-cell l"+o+" r"+o+"'></div>\").append("+("__columns["+o+"].renderMethod("+l+", __item, __grid)")+")[0];",e&&(r+='} catch (ex) { console.log("VDG: column ['+(s.memberPath||s.fieldID)+'] with value [" + ('+l+'||"(no value)") + "] render error on [" + __key + "]. Error: " + ex.toString()); throw ex; }')}else r+="__cells["+o+"] = $(\"<div class='virtual-data-grid-cell l"+o+" r"+o+"'>\"+ (("+l+'||"-") + "") +"</div>")[0];'}catch(e){throw Error("Error while creating render method column: "+s.fieldID+".\r\n"+e)}return e&&(r+='} catch (ex) { console.log("VDG: render error [key: " + __key + "]."); throw ex; }'),n&&(r+="__callback(__element, __item);"),r+="__element.append($(__cells));",r+="return __element;"}var a=St.get(o(!1),["__gridinst","__grid","__columns","__callback","__htmlEncode","__fragment","__index","__item"]),s=St.get(o(!0),["__gridinst","__grid","__columns","__callback","__htmlEncode","__fragment","__index","__item"]);this.renderMethod=a.bind(null,e,t,i,n,r),this.renderMethodDebug=s.bind(null,e,t,i,n,r)}},e.extend(!0,e.ui,{virtualDataGrid:{dataTypes:{"boolean-check":{width:40,exportMethod:function(e,t){return e?"&chi;":""},renderMethod:function(e,t){return e?'<div style="text-align: center"><i class="ui-icon ui-icon-circle-check" style="vertical-align: middle; display: inline-block"></i></div>':""}},"context-menu":{allowExportHtml:!1,allowFilter:!1,allowSort:!1,allowResize:!1,width:34,title:"",renderMethod:function(t,i){var n=this,r=e('<i class="ui-custom-button command-button ui-link zillion-parts icons context-menu"></i>');return r.one("click",function(){var e,t=n.commands;e=t&&"list"in t&&"manager"in t&&"resources"in t?function(e){var i=t.list.get(e,t.manager,t.resources),n=i.qSelect(fe);return 0===n.length&&n.push({text:"No action possible",id:"-",enabled:!1,command:{can:!1}}),n}:n.getContextMenuItems,r.contextMenu({items:function(){return e(i)},onOpen:function(){n.openContextMenu&&n.openContextMenu(i)},onSelect:function(e){e.enabled&&("command"in e?e.command.execute():n.clickContextMenu&&n.clickContextMenu(e,i))}}).click()}),r}},commands:{allowExportHtml:!1,allowFilter:!1,allowSort:!1,width:60,commands:null,title:"",renderText:!1,renderMethod:function(t,i){var n,r=this,o=[],a=r.commands;a&&a.list&&a.manager&&a.resources?(n=this.cacheItem(i,this.fieldID+"$c",function(){return a.list.get(i,a.manager,a.resources)}),n.qEach(function(t){var i=t.iconClass&&t.iconClass[16],n=t.title||t.key,a=e(r.renderText?'<i class="ui-custom-button command-button '+i+'" data-command="'+t.key+'" title="'+n+'"><span>'+n+"</span></i> ":'<i class="ui-custom-button command-button '+i+'" data-command="'+t.key+'" title="'+n+'"></i> ');t.enabled?(t.element=a,a.click(function(e){t.enabled&&(t.execute(),e.preventDefault())})):a.addClass("ui-custom-button-disabled"),o.push(a[0])})):a&&a.list&&a.resources&&(n=this.cacheItem(i,this.fieldID+"$c",function(){return a.list.getBindings(i,a.resources)}),n.qEach(function(t){var i={text:t.title||t.key,id:t.key,command:t,iconClass:t.iconClass&&t.iconClass[16],context:t.context,execute:t.execute,enabled:t.enabled},n=r.renderText?e('<i class="ui-custom-button command-button '+i.iconClass+'" data-command="'+i.id+'" title="'+i.text+'"><span>'+i.text+"</span></i>"):e('<i class="ui-custom-button command-button" title="'+i.text+'"></i>').addClass(i.iconClass).attr("data-command",i.id);n.setCommand(i.id,i.context,i),o.push(n[0])}));var s=e("<span></span>");return s.append(e(o)),s}}}}}),dt&&function(){var t=0;!function i(){var n=e(".virtual-data-grid:visible");if(n.length){t<n.length||(t=0);var r=e(n[t]),o=r.find("span.benchmark-label");o.length||(o=e('<span class="benchmark-label" style="background: #080; color: #fff; padding: 2px 4px; position: absolute; right: 0; top: 0; z-index: 999999; transition: all 0.5s ease; text-shadow: 0 0 3px #000"></span>').appendTo(r));var a=r.virtualDataGrid("benchmark",100);o.html((10*a.totalTime|0)/10+"ms - "+(10*a.score|0)/10),o.css({background:a.score>9.5?"#0c0":a.score>9?"#080":a.score>7?"#a50":a.score>5?"#a50":"#c00"}),t++}setTimeout(i,1e3)}()}(),function(e){function i(t){function i(){t.dataView.onUpdated.subscribe(r)}function n(){t.dataView.onUpdated.unsubscribe(r)}function r(i,n){var r=t.dataView.getKeyField();t.selection.filter(n,r),e(t.gridView).virtualDataGrid("refresh")}return t=e.extend(!0,{},a,t),i(),{apply:i,remove:n}}function n(t){function i(){t.dataView.onUpdated.subscribe(r)}function n(){t.dataView.onUpdated.unsubscribe(r)}function r(i,n){var r=t.dataView.getKeyField(),o=t.selection;o.filter(n,r),1==n.length&&o.add(n[0][r]),e(t.gridView).virtualDataGrid("refresh")}return t=e.extend(!0,{},a,t),i(),{apply:i,remove:n}}function r(t){function i(){t.dataView.onUpdated.subscribe(r),t.selection.onChange.subscribe(r)}function n(){t.dataView.onUpdated.unsubscribe(r),t.selection.onChange.unsubscribe(r)}function r(){var i=t.dataView,n=i.getKeyField(),r=t.selection,a=r.getKeys().qFirst();a?o=a:setTimeout(function(){if(0===r.getKeys().length)if(o)if(i.getItemByKey(o))r.add(o),e(t.gridView).virtualDataGrid("refresh");else{var a=i.getItems(!1);a.length>0&&(r.add(a[0][n]),e(t.gridView).virtualDataGrid("refresh"))}else{var a=i.getItems(!1);a.length>0&&(r.add(a[0][n]),e(t.gridView).virtualDataGrid("refresh"))}},0)}var o=null;return t=e.extend(!0,{},a,t),i(),{apply:i,remove:n}}function o(t){function i(){t.dataView.onUpdated.subscribe(o),t.selection.onChange.subscribe(r),t.selection.setMultiSelect(!0),e(document).on("keydown.ctrlshiftselection",function(e){e.ctrlKey&&(l=!0),e.shiftKey&&(u=!0)}).on("keyup.ctrlshiftselection",function(e){e.ctrlKey||(l=!1),e.shiftKey||(u=!1)})}function n(){t.dataView.onUpdated.unsubscribe(o),t.selection.onChange.unsubscribe(r),e(t.grid).off(".ctrlshiftselection")}function r(e,i){var n=t.selection.getKeys();if("adding"===i.type){if(!1===l&&!1===u&&0!==n.length)t.selection.clear();else if(u&&s){0==l&&t.selection.clear();var r=t.dataView.getIdxByKey(s),o=t.dataView.getIdxByKey(i.keys[0]);if(r>o){var a=o;o=r,r=a}for(var c=r;c<=o;c++){var d=t.dataView.getItemByIdx(c).$key;i.keys.push(d)}}}else"removed"===i.type?!1===l&&n.length>0&&(t.selection.clear(),i.keys[0]&&t.selection.add(i.keys[0])):"added"===i.type&&!1===u&&(s=i.keys.qLast())}function o(){}var s=null,l=!1,u=!1;return t=e.extend(!0,{},a,t),i(),{apply:i,remove:n}}e.extend(!0,t,{ZillionParts:{GridView:{Behaviors:{RestrictToDataSet:i,AutoSelectSingleRow:n,ForceSingleSelect:r,CtrlShiftSelection:o}}}});var a={dataView:null,selection:null,gridView:null}}(jQuery),function(e){var n=function(){};e(function(){e("#CustomizationDialog").dialog({title:"Customize View",autoOpen:!1,modal:!0,height:"auto",width:450,minHeight:500,minWidth:400,position:{my:"center",at:"center",of:t},close:function(){e(this).findDataField("ColumnList").listbox("destroy")},buttons:[{text:"Close",click:function(){e(this).dialog("close")}},{text:"Save",click:function(){n(this)&&e(this).dialog("close")}}]})}),e.fn.customizeVirtualDataGrid=function(){e.each(this,function(){var r=e(this),o=r.virtualDataGrid("option","columns"),a=r.virtualDataGrid("option","sort"),s=r.virtualDataGrid("option","userColumns"),l={columns:e.map(o,function(t){var n={fieldID:t.fieldID,title:t.title,friendlyName:t.friendlyName,width:t.width,visible:t.visible==i||t.visible,visibleIndex:t.visibleIndex},r=s.filter(function(e){return e.fieldID===t.fieldID})[0];return e.extend(!0,n,r)}),sort:a};e("#CustomizationDialog").findDataField("ColumnList").addClass("ui-list-box").empty().listbox({filterable:!0,sortable:!0,items:e.map(l.columns,function(e){return{column:e,idx:e.visibleIndex,selected:e.visible,text:e.friendlyName||e.title}})}),e("#CustomizationDialog").dialog({height:"auto",position:{my:"center",at:"center",of:t}}),n=function(t){var i=e(t),n=i.findDataField("ColumnList"),o=e.map(n.listbox("option","items"),function(e){return{width:e.column.width,fieldID:e.column.fieldID,visible:e.selected,visibleIndex:e.idx}});return r.virtualDataGrid({userColumns:o}),r.virtualDataGrid("refresh"),!0},e("#CustomizationDialog").dialog("open")})}}(jQuery),e.effects.effect.fadeVisibility=function(t){var i,n,r=e(this),o=e.effects.setMode(r,t.mode||"hide");switch(o){case"show":i=1,r.css({visibility:"visible"});break;case"hide":i=0,n="hidden"}r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:function(){n&&r.css({visibility:n}),t.callback&&t.callback.apply(this,arguments),r.dequeue()}})},e.widget("rogan.imageloop",{options:{autoStart:!0,useCorrection:!0,interval:100,duration:100,frames:[]},_create:function(){var e=this,t=e.options,i=t.frames;e._lastFrame=-1,e._start=Date.now(),e._total=0,e._compiledFrames=[];for(var n=0,r=0;r<i.length;r++){var o=i[r],a={};if("string"==typeof o)a.url=o;else{if(!("url"in o))continue;a.url=o.url,a.duration=o.duration}(new Image).src=a.url,null==a.duration&&(a.duration=t.duration),a.start=n,a.end=n+t.duration,e._compiledFrames.push(a),n+=a.duration}e._correction=0,e._total=n,t.autoStart&&(e.resume(),e.tick())},tick:function(){var t=this,i=e(t.element);if(i.is(":visible"))for(var n=t._compiledFrames,r=(Date.now()-t._start-t._correction)%t._total,o=0;o<n.length;o++){var a=n[o];if(a.start<=r&&a.end>r&&t._lastFrame!=o)return i.attr("src",a.url),void(t._lastFrame=o)}},pause:function(){var e=this;e._timer&&(e.options.useCorrection&&(e._pauseStart=Date.now()),clearInterval(e._timer),e._timer=0)},resume:function(){var e=this,t=e.options;e._timer||(e._pauseStart&&(e._correction+=Date.now()-e._pauseStart,e._pauseStart=null),e._timer=setInterval(function(){e.tick()},t.interval))}}),e.widget("rogan.columnView",{options:{items:[],onItemCreated:function(e,t,i){}},_viewData:null,_views:null,_create:function(){var t=this,i=t.element;t._views=[],t._viewData=[],i.addClass("column-view ui-corner-all").disableSelection(),t._container=e('<div class="column-view-container"></div>').appendTo(i),t._pushView(t._renderView(t.options.items)),i.on("keydown",function(i){switch(i.keyCode){case e.ui.keyCode.BACKSPACE:case e.ui.keyCode.LEFT:return t._views.length>1&&t._popView(),!1;case e.ui.keyCode.ENTER:case e.ui.keyCode.RIGHT:var n=t._currentView(),r=n.data("focus")||0;return t._itemClick(i,t._viewItem(n,r)),!1;case e.ui.keyCode.UP:var n=t._currentView(),r=n.data("focus")||0;return t._focus(n,r-1),!1;case e.ui.keyCode.DOWN:var n=t._currentView(),r=n.data("focus")||0;return t._focus(n,r+1),!1;case e.ui.keyCode.TAB:return t.close(),!0}}),i.height(t.options.height)},_focus:function(t,i){var n=this,r=n._getItemCount();i<0?i=r-1:i>r-1&&(i=0),t.data("focus",i),e(".column-view-item-focus",t).removeClass("column-view-item-focus");var o=n._viewItem(t,i);o.addClass("column-view-item-focus"),n._scrollTo(t,o)},_scrollTo:function(e,t){var i=e.height(),n=e.offset().top,r=t.outerHeight(),o=t.offset();null!==o&&((o=o.top)<n||o+r>n+i)&&e.scrollTop(Math.floor(o-n-.2*i+e.scrollTop()))},_getItemCount:function(t){return e(".column-view-item",t).length},_viewItem:function(t,i){return e(e(t).children(".column-view-item")[i])},_activate:function(t,i,n){var r=this,o=r._getItemCount(t);if(i>-1&&i<o){t.data("active",i),e(".column-view-item-active",t).removeClass("column-view-item-active");var a=r._viewItem(t,i);a.addClass("column-view-item-active");var s=a.data("item");if(!1!==n&&s){for(;r._views.length-1>r._indexOfView(t);)r._popView();e.isArray(s.items)&&s.items.length>0&&r._pushView(r._renderView(s.items))}}else t.data("active",-1),e(".column-view-item-active",t).removeClass("column-view-item-active")},_pushView:function(t){var i=this,n=i.element,r=i._views,o=r.qLast();o&&o.removeClass("ui-corner-right");var a=e(t);r.push(a),i._viewData.push(a.data("view")),i._container.append(a),1===r.length&&a.addClass("ui-corner-left"),a.addClass("ui-corner-right");var s=a.position().left+a.outerWidth(!0),l=n.width();s>l?i._container.css("left",l-s):i._container.css("left","0px"),i._focus(a,0)},_popView:function(){var e=this,t=e.element,i=e._views,n=i.pop();e._viewData.pop(),n.remove(),n=i[i.length-1];var r=n.position().left+n.outerWidth(!0),o=t.width();r>o?e._container.css("left",o-r):e._container.css("left","0px"),n.focus()},_currentView:function(){var e=this._views;return e[e.length-1]},_renderView:function(t){var i=this,n=e('<div class="column-view-section"></div>');n.data("view",t);var r=i.options.onItemCreated,o=0;return e.each(t,function(a,s){var l=o;if("split"===s.type){var u=e('<hr class="column-view-split"/>');u.appendTo(n),e.isFunction(r)&&r(u,s,l)}else{var u=i._renderItem(s);u.data("view",t),u.data("index",l),u.click(function(e){i._itemClick(e,u)}),u.appendTo(n),e.isFunction(r)&&r(u,s,l),o++}}),n},_indexOfView:function(t){for(var i=0;i<this._views.length;i++){var n=this._views[i];if(e(n).is(t))return i}return-1},_renderItem:function(t){var i=e('<div class="column-view-item">'+t.text+(t.items?" &gt;":"")+"</div>");return i.data("item",t),i.hover(function(){e(this).addClass("column-view-item-hover")},function(){e(this).removeClass("column-view-item-hover")}),i},refresh:function(){for(var e=this,t=e._views,i=[],n=0;n<t.length;n++){var r=t[n];i.push({view:r.data("view"),active:r.data("active"),focus:r.data("focus")})}for(;t.length>0;){t.pop().remove()}for(var n=0;n<i.length;n++){var o=i[n],a=e._renderView(o.view);e._pushView(a),e._activate(a,o.active,!1),e._focus(a,o.focus)}},_itemClick:function(e,t){var i=this,n=t.data("item"),r=t.data("view"),o=t.data("index"),a={element:t,item:n,view:r,focus:!0,activate:!0};i._trigger("itemclick",e,a)&&(a.focus&&i._focus(t.parent(".column-view-section"),o),a.activate&&i._activate(t.parent(".column-view-section"),o))}}),function(){function t(t,i,n,r){return!(e.isFunction(t)&&!1===t.call(i,n,r)||n.isDefaultPrevented())}var i={target:null,position:null,items:[],overlay:"show",select:function(){},onClose:function(){}};e.fn.popupMenu=function(n){e("body").click(),"close"!=n&&(n=e.extend({},i,n),e.each(this,function(){function i(){o.remove(),e("body").off("click.contextMenu")}var r=e(this),o=e('<div style="z-index: 10000; position: fixed; top: 0; left: 0;" tabindex="0"></div>').disableSelection(),a=e('<ul style="z-index: 10001" tabindex="0"></ul>');o.appendTo(document.body),"show"===n.overlay&&ye().appendTo(o),a.appendTo(o),e.each(n.items,function(t){var i=this,n=e('<a class="ui-link"></a>');i.enabled||n.addClass(".ui-link-disabled"),i.iconClass&&e('<span class="ui-menu-icon"></span>').addClass(i.iconClass).attr("data-command",i.id).appendTo(n),n.append('<span class="menu-item-text">'+this.text+"</span>"),e("<li></li>").append(n).data("item",this).appendTo(a)}),a.addClass("ui-context-menu").menu({select:function(e,i){t(n.select,i,e,i.item.data("item"))}});var s=n.position;if(s&&s.x&&s.y)a.css({left:s.x,top:s.y,position:"relative"});else{var l=e.extend(!0,{at:"left bottom",my:"left top",of:r,collision:"fit flip"},s);a.position(l)}o.bind("keydown.contextMenu",function(r){if(r.keyCode==e.ui.keyCode.ESCAPE)t(n.onClose,a,r,null),i();else if(r.keyCode===e.ui.keyCode.TAB)return a.focus(),!1}),a.focus(),setTimeout(function(){e("body").on("click.contextMenu",function(e){t(n.onClose,a,e,null),i()})},0)}))},e.widget("rogan.contextMenu",{options:{buttonClass:["zillion-parts icons context-menu","zillion-parts icons context-menu-active","zillion-parts icons context-menu-hover"],menu:null,items:[],onOpen:function(){},onSelect:function(){}},_create:function(){var t=this,i=t.options,n=t.element,r=!1;n.addClass(i.buttonClass[0]).hover(function(){n.addClass(i.buttonClass[2])},function(){n.removeClass(i.buttonClass[2]).addClass(i.buttonClass[0])}).click(function(t){if(r)return!0;r=!0,i.onOpen();var o=i.items;e.isFunction(o)&&(o=o()),n.addClass(i.buttonClass[1]),n.popupMenu({target:n,items:o,select:function(e,t){i.onSelect(t)},onClose:function(){n.removeClass(i.buttonClass[1]).addClass(i.buttonClass[0]),r=!1}}),t.preventDefault()})}}),e.widget("rogan.configurationMenu",{options:{align:"left",buttonClass:["zillion-parts icons configuration-menu","zillion-parts icons configuration-menu-active","zillion-parts icons configuration-menu-hover"],menu:null,items:[],onOpen:function(){},onSelect:function(){}},_create:function(){var e=this,t=e.options,i=e.element,n=!1;i.addClass(t.buttonClass[0]).hover(function(){i.addClass(t.buttonClass[2])},function(){i.removeClass(t.buttonClass[2]).addClass(t.buttonClass[0])}).click(function(e){if(n)return!0;n=!0,t.onOpen(),i.addClass(t.buttonClass[1]),i.popupMenu({align:t.align,target:i,items:t.items,select:function(e,i){t.onSelect(i)},onClose:function(){i.removeClass(t.buttonClass[1]).addClass(t.buttonClass[0]),n=!1}}),e.preventDefault()})}})}(),e.widget("rogan.zpSelect",{options:{source:null,sourceOptions:null,bind:null,bindType:"id",bindSeperator:";",selectID:"id",selectValue:null,selectText:"text",behavior:"multi",disabled:!1,enableSearch:!0,enableClear:!0,captionText:"Choose...",loadingText:"Loading...",searchingText:"Searching...",select:function(){},onItemCreated:function(e,t){},embedDropdown:!0},_source:null,_compiledVM:function(e){return{id:null,value:null,text:null}},_elements:{},_selected:[],_filter:[],_create:function(){var t=this,n=t.element,r=t.options;t._source=e.isArray(r.source)?new _e(r.source,r.selectID,r.selectText):r.source,t._elements={base:t.element},t._selected=[],t._filter=[],t._compiledVM=Re("{ id: ("+r.selectID+"), value: ("+(r.selectValue||"$item")+"), text: ("+r.selectText+") }");var o=!1;if(n.is("select")&&(r.behavior=n.attr("multiple")!==i?"multi":"single",r.bind||(r.bind=n,o=!0),t._elements.base=e("<span></span>",{class:n.attr("class"),style:n.attr("style")}).insertAfter(n),n.css("display","none")),n.is("input")&&(r.behavior=n.attr("multiple")!==i?"multi":"single",r.bind||(r.bind=n,o=!0),t._elements.base=e("<span></span>",{class:n.attr("class"),style:n.attr("style")}).insertAfter(n),n.css("display","none")),"single"===r.behavior&&t._elements.base.attr("tabindex",0|n.attr("tabindex")),null==t._source)if(n.is("select"))t._source=new we(n);else try{var a=e(r.bind);a.is("select")&&(t._source=new we(a))}catch(e){ft("Unable to bind select to ["+r.bind+"]; "+e)}var s=t._elements.base;s.addClass("zpselect"),t._elements.overlay=ye().css({display:"none",zIndex:-1}),t._elements.overlay.click(function(){t.close()}),s.append(t._elements.overlay),"single"===r.behavior?t._initSingle():"multi"===r.behavior&&t._initMulti(),o&&t.bind(),t._elements.dropLists.on("mouseover",".zpselect-droplistitem",function(){t._elements.dropLists.find(".zpselect-droplistitem.highlighted").removeClass("highlighted"),e(this).addClass("highlighted")})},_projectValue:function(t){if(!t)return null;var i=this;return e.isArray(t)?t.qSelect(function(e){return i._compiledVM(e)}):i._compiledVM(t)},_updateBind:function(){var t,i=this,n=i.options,r=e(n.bind);if("single"===n.behavior)if(t=i._projectValue(i._selected.qFirst()))switch(n.bindType){case"json":r.val(JSON.stringify(t.value)),r.trigger("change");break;case"id":r.val(t.id),r.trigger("change");break;case"text":r.val(t.text),r.trigger("change");break;default:r.val(t.value),r.trigger("change")}else r.val(null),r.trigger("change");else if("multi"===n.behavior)if(t=i._projectValue(i._selected))switch(n.bindType){case"json":r.val(JSON.stringify(t.qSelect("value"))),r.trigger("change");break;case"id":r.val(t.qSelect(function(e){return e.id}).join(n.bindSeperator)),r.trigger("change");break;case"text":r.val(t.qSelect(function(e){return e.text}).join(n.bindSeperator)),r.trigger("change");break;default:r.val(t.qSelect(function(e){return e.value})),r.trigger("change")}else r.val(null),r.trigger("change")},isOpen:function(){return this._elements.drop.is(":visible")},bind:function(){var t=this,i=t.options,n=e(i.bind),r=n.val();if(r||(r=n.is("select")?n.find("option[selected]:first").attr("value"):n.val()),"id"===i.bindType)t._selected=[],r?(r.split(i.bindSeperator).qEach(function(n){var r=t._source.get(n,i.sourceOptions),o=t._newItem(n);t._selected.push(o),r.then(function(i){e.extend(!0,o,i),t._elements.base.trigger("change"),t.refresh()})}),t.refresh()):(t._selected=[],t.refresh());else if(r){var o=t._source.get(r,i.sourceOptions),a=t._newItem(r);t._selected=[a],t.refresh(),o.then(function(i){e.extend(!0,a,i),t._elements.base.trigger("change"),t.refresh()})}else t._selected=[],t.refresh()},clear:function(){var e=this,t=e._elements,i=e.options,n=i.source;e.value(null),e._updateBind(),t.base.trigger("change"),e.refresh(),!(!n||!n.features)&&n.features.queryOnClear&&e._queryFilteredList()},_removeSelect:function(e){var t=this;t._selected=t._selected.qWhere(function(t,i){return e!==i}),t._updateBind(),t._elements.base.trigger("change")},_onSelect:function(e,t){this._trigger("select",t,{type:e,element:this.element,ui:this._elements.base})},_initSingle:function(){var t=this,i=t._elements,n=i.base,r=t.options;if(i.multi=e('<div class="zpselect-single"></div>'),i.multiList=e('<a class="selected"><span>'+r.captionText+'</span><div class="dropdown"><i></i></div></a>'),i.clear=e('<span class="clear"><i></i></span>'),i.multiList.append(i.clear),i.multi.append(i.multiList),i.clear.click(function(e){return r.disabled?t.refresh():(t.clear(),t._onSelect("clear",e)),!1}),i.drop=e('<div class="zpselect-drop zpselect-drop-single"></div>'),i.dropContainer=e('<div class="zpselect-droplistcontainer"></div>'),i.dropLists=e('<ul class="zpselect-droplist"></ul>'),r.enableSearch&&(i.input=e('<div class="zpselect-input"></div>'),i.textInput=e('<input type="text" />'),i.textInput.appendTo(i.input),i.drop.append(i.input)),i.drop.append(i.dropContainer),i.dropContainer.append(i.dropLists),n.append(i.multi),r.embedDropdown?n.append(i.drop):e("body").append(i.drop),n.on("click",".zpselect-single",function(){n.is(".zpselect-focus")?t.close():(r.enableSearch&&i.textInput.val(""),t.dropdown())}),i.drop.on("mousedown",".zpselect-droplistitem",function(n){var o=e(this).data("idx"),a=t._filter[o];a.zpsSearchHint&&r.enableSearch?(i.textInput.val(t._projectValue(a).text),i.textInput.trigger("change")):(t._selected=[a],t._updateBind(),t._elements.base.trigger("change"),t.refresh(),t.close(),r.enableSearch&&(i.textInput.val(""),i.textInput.trigger("change"),t.selectSearch()),t._onSelect("click",n))}),r.enableSearch){var o="";i.textInput.on("keyup cut paste drop change",function(n){if(n.keyCode==e.ui.keyCode.DOWN||n.keyCode==e.ui.keyCode.UP||n.keyCode==e.ui.keyCode.ENTER||n.keyCode==e.ui.keyCode.ESCAPE)return!1;if(t.isOpen()){var r=i.textInput.val();o=r,t._queryFilteredList()}})}r.enableSearch?(n.on("keydown",function(i){if(i.keyCode==e.ui.keyCode.DOWN)return t.dropdown(),!1;if(i.keyCode==e.ui.keyCode.UP){if(t.isOpen())return t.close(),n.focus(),!1}else if(i.keyCode==e.ui.keyCode.ESCAPE){if(t.isOpen())return t.close(),n.focus(),!1}else{if(i.keyCode==e.ui.keyCode.DELETE)return r.enableClear&&!r.disabled&&t.clear(),t.close(),!1;i.keyCode==e.ui.keyCode.TAB&&t.close()}}),n.on("keypress",function(e){null!==e.keyCode&&null!=e.charCode&&(t.isOpen()||(i.textInput.val(""),t.dropdown(),t.selectSearch(),setTimeout(function(){i.textInput.trigger("change")},0)))}),i.textInput.on("keydown",function(r){if(r.keyCode==e.ui.keyCode.DOWN){n.addClass("zpselect-focus");var o=i.dropLists.find(".zpselect-droplistitem.highlighted:first");return i.dropLists.find(".highlighted").removeClass("highlighted"),o=o.next(),0==o.length&&(o=i.dropLists.find(".zpselect-droplistitem:first")),o.addClass("highlighted"),t.scrollHighlightInView(),!1}if(r.keyCode==e.ui.keyCode.UP){var o=i.dropLists.find(".zpselect-droplistitem.highlighted:first");return i.dropLists.find(".highlighted").removeClass("highlighted"),o=o.prev(),0==o.length&&(o=i.dropLists.find(".zpselect-droplistitem:last")),o.addClass("highlighted"),t.scrollHighlightInView(),!1}if(r.keyCode==e.ui.keyCode.ENTER){var o=i.dropLists.find(".zpselect-droplistitem.highlighted:first");if(0!==o.length){var a=o.data("idx"),s=t._filter[a];return t._selected=[s],t._updateBind(),t._elements.base.trigger("change"),t.refresh(),t.close(),i.textInput.val(""),i.textInput.trigger("change"),n.focus(),t._onSelect("enter",r),n.focusNextInput(),!1}return!1}if(r.keyCode==e.ui.keyCode.ESCAPE){if(t.isOpen())return t.close(),!1}else r.keyCode==e.ui.keyCode.TAB&&t.close()})):i.base.on("keydown",function(o){if(o.keyCode==e.ui.keyCode.DOWN){t.isOpen()||t.dropdown();var a=i.dropLists.find(".zpselect-droplistitem.highlighted");return a.removeClass("highlighted"),a=a.first().next(".zpselect-droplistitem"),0==a.length&&(a=i.dropLists.find(".zpselect-droplistitem:first")),a.addClass("highlighted"),!1}if(o.keyCode==e.ui.keyCode.SPACE)return t.isOpen()||t.dropdown(),!1;if(o.keyCode==e.ui.keyCode.UP){var a=i.dropLists.find(".zpselect-droplistitem.highlighted");return a.removeClass("highlighted"),a=a.first().next(".zpselect-droplistitem"),a=a.prev(".zpselect-droplistitem"),0==a.length?t.close():a.addClass("highlighted"),!1}if(o.keyCode==e.ui.keyCode.ENTER){if(t.isOpen()){var a=i.dropLists.find(".zpselect-droplistitem.highlighted:first");if(0!==a.length){var s=a.data("idx"),l=t._filter[s];return t._selected=[l],t._updateBind(),t._elements.base.trigger("change"),t.refresh(),t.close(),n.focus(),t._onSelect("enter",o),n.focusNextInput(),!1}}}else if(o.keyCode==e.ui.keyCode.ESCAPE){if(t.isOpen())return t.close(),!1}else if(o.keyCode==e.ui.keyCode.DELETE)return r.enableClear&&!r.disabled&&t.clear(),t.close(),!1})},_initMulti:function(){var t=this,i=t._elements,n=i.base,r=t.options;i.multi=e('<div class="zpselect-multi"></div>'),i.multi.appendTo(n),i.multiList=e('<ul class="zpselect-multilist"></ul>'),i.multiList.appendTo(i.multi),i.input=e('<li class="zpselect-input"></li>'),i.textInput=e('<input type="text" style="width: 20px" />'),i.textInput.appendTo(i.input),i.input.appendTo(i.multiList),i.dropContainer=e('<div class="zpselect-droplistcontainer"></div>'),i.drop=e('<div class="zpselect-drop"></div>'),i.drop.css({maxHeight:300,overflowY:"auto"}),i.dropLists=e('<ul class="zpselect-droplist"></ul>'),i.dropContainer.append(i.dropLists),i.drop.append(i.dropContainer),r.embedDropdown?n.append(i.drop):e("body").append(i.drop),n.on("click",".zpselect-selected",!1),n.on("focus",function(){t.selectSearch()}),n.on("keydown",".zpselect-selected:focus",function(i){if(i.keyCode==e.ui.keyCode.BACKSPACE)return t._removeSelect(e(this).data("idx")),t.refresh(),t.focusSearch(),!1;if(i.keyCode==e.ui.keyCode.DELETE)return t._removeSelect(e(this).data("idx")),t.refresh(),t.focusSearch(),!1;if(i.keyCode==e.ui.keyCode.LEFT)return e(this).prev(":tabbable").focus(),!1;if(i.keyCode==e.ui.keyCode.RIGHT){var n=e(this).next(":tabbable");return 0==n.length?t.focusSearch():n.focus(),!1}Ve.IsControlKey(i.keyCode)||(t.focusSearch(),t.elements.textInput.trigger("keydown",i))});var o="";i.textInput.on("keydown cut paste drop change",function(){setTimeout(function(){var n=e('<span class="zpselect-input"></span>'),r=i.textInput.val();o=r,n.text(r),n.appendTo("body");var a=i.input.outerWidth(!0)-i.input.innerWidth();i.textInput.width(Math.min(n.width()+20,i.multi.innerWidth()-a)),n.remove(),t._queryFilteredList(),r?t.isOpen()||t.dropdown():t.close()},0)}),i.textInput.on("keydown",function(r){if(r.keyCode==e.ui.keyCode.BACKSPACE||r.keyCode==e.ui.keyCode.LEFT){if(!e(this).val())return i.multiList.find(".zpselect-selected:last").focus(),!1}else{if(r.keyCode==e.ui.keyCode.DOWN){n.addClass("zpselect-focus");var o=i.dropLists.find(".highlighted:first");return o.removeClass("highlighted"),o=o.next(),0==o.length&&(o=i.dropLists.find(".zpselect-droplistitem:first")),o.addClass("highlighted"),!1}if(r.keyCode==e.ui.keyCode.UP){var o=i.dropLists.find(".highlighted:first");return o.removeClass("highlighted"),o=o.prev(),0==o.length?(i.textInput.val(""),i.textInput.trigger("change"),t.close(),t.focus()):o.addClass("highlighted"),!1}if(r.keyCode==e.ui.keyCode.ENTER){var o=i.dropLists.find(".highlighted:first");if(0!==o.length){var a=o.data("idx"),s=t._filter[a];return t._selected.push(s),t._updateBind(),t._elements.base.trigger("change"),t.refresh(),i.textInput.val(""),i.textInput.trigger("change"),t.focusSearch(),!1}}else if(r.keyCode==e.ui.keyCode.ESCAPE)return t.close(),!1}}),i.drop.on("mousedown",".zpselect-droplistitem",function(){var n=e(this).data("idx"),r=t._filter[n];t._selected.push(r),t._updateBind(),t._elements.base.trigger("change"),t.refresh(),i.textInput.val(""),i.textInput.trigger("change"),setTimeout(function(){t.focusSearch()})}),n.on("click",".zpselect-selected-remove",function(i){return t._removeSelect(e(this).parents(".zpselect-selected").data("idx")),t.refresh(),t.focusSearch(),!1}),n.on("click focus",function(t){0==e(t.target).is(i.textInput)&&i.textInput.focus()})},destroy:function(){this._elements.drop.remove()},_oldIndex:null,_loading:!1,scrollHighlightInView:function(){var e=this,t=e._elements,i=t.dropLists;setTimeout(function(){var e=i.find(".zpselect-droplistitem.highlighted:first");if(e.length){var n=e.position().top+t.dropContainer.scrollTop(),r=(n/t.dropContainer.height()|0)*t.dropContainer.height();t.dropContainer.scrollTop(r)}},100)},dropdown:function(){var e=this,t=e.options,i=e._elements.base,n=e._elements;t.disabled||(e.isOpen()||(i.addClass("zpselect-focus"),n.drop.css("display","block"),n.overlay.css("display","block"),t.embedDropdown,null===e._oldIndex&&(e._oldIndex=i.css("z-index"),i.css("z-index",Ve.zIndex())),setTimeout(function(){e.focusSearch()},100)),e.layout(),e._queryFilteredList())},_updateCounter:0,_queryFilteredList:function(){var e=this,t=e.options,i=(e._elements.base,e._elements),n=t.enableSearch?i.textInput.val():"";e._loading=!0,e.refresh();var r=++e._updateCounter;e._source.query(n,t.sourceOptions).then(function(t){r===e._updateCounter&&(e._filter=t)}).always(function(){r===e._updateCounter&&(e._loading=!1,e.refresh(),e._scrollIntoView())})},_scrollIntoView:function(){this._elements.drop.scrollintoview({direction:"vertical",duration:50})},close:function(){var e=this,t=e._elements,i=e._elements.base;"multi"===e.options.behavior&&t.textInput&&t.textInput.val(""),i.removeClass("zpselect-focus"),t.drop.css("display","none"),t.overlay.css("display","none"),null!==e._oldIndex&&(i.css("z-index",e._oldIndex),e._oldIndex=null)},focusSearch:function(){var e=this,t=e.options,i=e._elements;e.options.enableSearch?i.textInput.is(":focus")||i.textInput.focus():"single"===t.behavior?i.multi.is(":focus")||i.multi.focus():"multi"===t.behavior&&(i.textInput.is(":focus")||i.textInput.focus())},selectSearch:function(){var e=this,t=e._elements;e.options.enableSearch?t.textInput.select():t.base.focus()},layout:function(){var e=this,t=e.options,i=e._elements;e.isOpen()?t.embedDropdown?i.drop.css({top:"100%",left:0,width:"100%"}):(i.drop.css({width:i.multi.outerWidth()}),i.drop.position({my:"left top-2",at:"left bottom",of:i.base,collision:"none"})):t.embedDropdown?i.drop.css({top:"100%",left:0,width:"100%"}):(i.drop.css({top:0,left:0,width:i.multi.outerWidth()}),i.drop.position({my:"left top-2",at:"left bottom",of:i.base,collision:"none"}))},_newItem:function(e){var t=this,i=t.options,n={};return n[i.selectValue]=null,n[i.selectID]=e,n[i.selectText]=i.loadingText,n},_isValidID:function(e){var t=this,n=t.options;return!(!(n.source&&n.source.features||{}).zeroID||0!==e)||e!==i&&null!==e&&0!==e},selectedID:function(t){var i=this,n=i.options,r=0!==arguments.length;if("single"==n.behavior){if(r)if(i._isValidID(t)){var o=i._newItem(t),a=i._source.get(t,n.sourceOptions);i._selected=[o],i.refresh(),a.then(function(t){e.extend(!0,o,t),i._elements.base.trigger("change"),i.refresh()})}else i._selected=[],i.refresh();return i._projectValue(i._selected).qSelect(function(e){return e.id}).qFirst()}if("multi"==n.behavior)return r&&(i._isValidID(t)?(i._selected=t.qSelect(function(t){var r=i._newItem(t);return i._source.get(t,n.sourceOptions).then(function(t){e.extend(!0,r,t),i._elements.base.trigger("change"),i.refresh()}),r}),i.refresh()):(i._selected=[],i.refresh())),i._projectValue(i._selected).qSelect(function(e){return e.id})},value:function(t){function n(e,t){l||(l=Re(e));try{return l(t)}catch(e){return i}}function r(t){if(t&&n(a.selectID,t)!==i)return t;if(t){var r=o._newItem(t);return o._source.get(t,a.sourceOptions).then(function(t){e.extend(!0,r,t),o._elements.base.trigger("change"),o.refresh()}),r}return t}var o=this,a=o.options,s=0!==arguments.length,l=null;return"single"==a.behavior?(s&&(t=r(t),t?(o._selected=[t],o.refresh()):(o._selected=[],o.refresh())),o._projectValue(o._selected).qSelect(function(e){return e.value}).qFirst()):"multi"==a.behavior?(s&&(t?(t=t.qSelect(r),o._selected=t,o.refresh()):(o._selected=[],o.refresh())),o._projectValue(o._selected).qSelect(function(e){return e.value})):void 0},refresh:function(){var t=this,i=t.options,n=t._elements,r=n.dropLists,o=[],a=t._selected;n.clear&&(i.enableClear&&!i.disabled&&a.length?(n.multiList.css("margin-right",30),n.clear.show()):(n.multiList.css("margin-right",15),n.clear.hide())),i.disabled?n.base.find(".dropdown").css("opacity",.5):n.base.find(".dropdown").css("opacity",1);var s,l,u=n.textInput&&n.textInput.val(),c=u?Ve.UI.RenderHighlightFunc(u.split(/\s+/)):I;if("single"===i.behavior){var d=r.find(".zpselect-droplistitem.highlighted:first"),h=d.data("key");if(n.multiList.find("span:first").html(t._projectValue(a).qSelect(function(e){return e.text}).qFirst()||i.captionText),r.empty(),n.dropContainer.css("display","block"),s=t._projectValue(t._filter),0===s.length)t._loading?r.append(e("<li></li>",{text:i.searchingText})):t.options.enableSearch?(l=u,l?r.append(e("<li></li>",{text:'No match found for "'+l+'".'})):n.dropContainer.css("display","none")):r.append(e("<li></li>",{text:"No choices available."}));else{var p=a[0],f=h&&s.qAny(function(e){return e.id==h});s.qEach(function(t,n){var r=e('<li class="zpselect-droplistitem"></li>');r.html(c(t.text)),t.value.title&&r.attr("title",t.value.title),f?t.id==h&&r.addClass("highlighted"):p&&p.id===t.id&&r.addClass("highlighted"),r.data("idx",n),r.data("key",t.id),i.onItemCreated(r,t,n),o.push(r[0])}),r.append(o)}0===r.find(".zpselect-droplistitem.highlighted").length&&r.find(".zpselect-droplistitem:first").addClass("highlighted"),t.layout(),t.scrollHighlightInView()}else"multi"===i.behavior&&(n.multiList.find(".zpselect-selected").remove(),t._projectValue(a).qEach(function(t,i){var r=e('<li class="zpselect-selected" tabindex="0"></li>');r.data("idx",i),r.data("item",t.value);var o=e('<span class="zpselect-selected-text"></span>');o.html(c(t.text)).appendTo(r),e('<a class="zpselect-selected-remove"><span class="ui-icon ui-icon-close"></span></a>').appendTo(o),r.disableSelection(),r.insertBefore(n.input)}),r.empty(),n.dropContainer.css("display","block"),s=t._projectValue(t._filter),0===s.length?t._loading?r.append("<li>"+i.searchingText+"</li>"):t.options.enableSearch?(l=u,l?r.append('<li>No match found for "'+l+'".</li>'):n.dropContainer.css("display","none")):r.append("<li>No choices available.</li>"):(s.qEach(function(t,n){var r=e('<li class="zpselect-droplistitem">'+c(t.text)+"</li>");r.data("idx",n),i.onItemCreated(r,t,n),o.push(r[0])}),r.append(o)),r.find(".zpselect-droplistitem:first").addClass("highlighted"),t.layout(),t.scrollHighlightInView())},_setOptions:function(){var t=this,i=t.options;e.Widget.prototype._setOptions.apply(t,arguments),i.disabled?(t._elements.base.attr("disabled","disabled"),t._elements.base.addClass("zpselect-disabled")):(t._elements.base.removeAttr("disabled","disabled"),t._elements.base.removeClass("zpselect-disabled")),t.refresh()},_setOption:function(t,i){if("disabled"===t)return void(this.options[t]=i);e.Widget.prototype._setOption.call(this,t,i)}}),function(){function t(e,t){return e<10&&(e="0"+e),t!=i&&t<10&&(t="0"+t),t!==i?e+":"+t:e+":"}function n(e,t){return t!==i?60*e+t:60*e}var r={hourStart:0,hourEnd:24,minuteInterval:5,restricted:!1};Ve.Select.TimePickerSource=function(o){o=e.extend(!0,{},r,o);for(var a=/(\d{1,2})([\:\.]?(\d{2}))?/,s=[],l=[],u=o.hourStart;u<o.hourEnd;u++){l.push({id:n(u),text:t(u),zpsSearchHint:!0});for(var c=0;c<60;c+=o.minuteInterval)s.push({id:n(u,c),text:t(u,c)})}return{features:{zeroID:!0},get:function(i){var r=e.Deferred();i|=0;var o=i/60|0,a=i%60,s=n(o,a);return r.resolve({id:s,text:t(o,a)}),r},query:function(r){var u=e.Deferred();if(!r)return u.resolve(l),u;r=r.trim();var c,d,h=a.exec(r);if(h)if(c=h[1],d=h[3],0==o.restricted&&c!==i&&c>=o.hourStart&&c<o.hourEnd&&d!==i&&d>=0&&d<60)c|=0,d|=0,u.resolve([{id:n(c,d),text:t(c,d)}]);else if(c!==i&&c>=o.hourStart&&c<o.hourEnd){c|=0;var p=s.qWhere(function(e){return e.text.startsWith(t(c))});0==p&&(p=s),u.resolve(p)}else u.resolve(l);else u.resolve(l);return u}}}}();var Ft=s("fluids");be.prototype.reset=function(){return this.fluidElements.splice(0,this.fluidElements.length),this.fixedElements.splice(0,this.fixedElements.length),this.takenHeight=0,this.takenCount=0,this.targetHeight=0,this.elementHeight=0,this.clientHeight=0,this.outerHeight=0,this.marginHeight=0,this.borderHeight=0,this.totalFluidsAddedHeight=0,this.totalFixedHeight=0,this.isCalculated=!1,this};var zt=new be,Ht={},Mt=/^(\d+(\.\d+)?)%$/,At={};!function(){function i(){var e=new Array(10),t=0,i=0;this.add=function(n){n|=0,e[t++%10]=n>0?n:0,i=0},this.avg=function(){if(0!==i)return i;i=0;for(var t=0;t<10;t++)i+=e[t];return i/=10}}var n=new De,r=0,o=0,s=0,l=!0,u={callback:function(){var t=e(".virtual-data-grid");t.virtualDataGrid("layout"),t.virtualDataGrid("invalidate"),Ve.Fluids.OnUpdated.notify()},delay:16},c=null,d=[0,0,0,0],h=0,p=new i,f=function(){return p.avg()<=5},m=function(){if(l){var e,t=Date.now();try{n.update()}catch(e){throw Ft.trace("zpFluids: Library has thrown an error and will be disabled: "+e.toString()+"."),l=!1,e}if(e=Date.now(),r=t,s=e-s,p.add(s),d[h]=n.totalHeight,h=++h%4,o!==n.changesHash){if(o=n.changesHash,isNaN(o))Ft.error("zpFluids: Change hash calculated is invalid (NaN)."),d=[0,0,0,0],h=0;else if(0===o)d=[0,0,0,0],h=0;else if(3===h){var i=d[1]-d[0],a=d[2]-d[1],c=d[3]-d[2];i===a&&a===c&&0!==i&&(Ft.trace("zpFluids: Total height is constantly growing. Library will be disabled."),l=!1,setTimeout(function(){Ft.trace("zpFluids: Library has been enabled again."),l=!0},1e4))}throttle(u)}}},g=0,v=function(){f()&&m(),null===c&&(c=setInterval(function(){try{m()}finally{(c&&g===o||isNaN(o))&&(clearInterval(c),c=null),g=o}},16))},y=function(){var e,t=Date.now(),i=t-r;i>500&&(e=o,m(),e!==o&&Ft.trace("zpFluids: An extra height update was performed on the page."))};e(function(){m(),v(),setInterval(y,5e3)});var _=null;e(t).resize(function(){_?(clearTimeout(_),_=null):e("html").addClass("x-resizing"),_=setTimeout(function(){_=null,e("html").removeClass("x-resizing"),v()},500),v()}),a({Fluids:{OnUpdated:new Ve.Event,Update:function(){v(),m()},Debug:function(){n.fluids.qEach(function(t,i){var n="["+i+";"+(t.visible?"v":"h")+";"+t.value+"] "+t.targetHeight+" - "+t.clientHeight+"/"+t.elementHeight+"/"+t.outerHeight+"; "+t.borderHeight+"/"+t.marginHeight;Ft.debug(n,e(t.element).getPath()),t.element.setAttribute("zp-fluids-debug",n+"; "+e(t.element).getPath())})},Profile:function(){var e,t=new Date,i=0,n=50;do{for(var r=0;r<n;r++)m();i+=n,e=Date.now()-t}while(e<1e3);console.profile&&(console.profile("Zillion Parts Fluids"),m(),console.profileEnd()),Ft.trace("Zillion Parts Fluids: "+Math.round(e/i*100)/100+" ms.")}}})}(),function(){function e(e){if(0===e)return"0";for(var t="";e>0;)t=i[e%62]+t,e=Math.floor(e/62);return t}function t(e){var t,i,n;for(t=i=(e===(/\W|_|^$/.test(e+="")||e))-1;n=e.charCodeAt(i++);)t=62*t+n-[,48,29,87][n>>5];return t}var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");a({Base62:{decode:t,encode:e}})}();var Pt={encode:function(e,t){return t=ze(e,t),Se(t)},decode:function(e,t){return t=Ee(t),He(e,t)}},Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a({Cipher:{Xor:Pt}}),a({PreventNav:{When:Me,Backspace:Pe}});var qt=[];e(t).on("beforeunload",function(e){for(var t=qt,i=t.length;i-- >0;){var n=t[i];if(Ae(n.valid)&&Ae(n.enabled)){var r=Ae(n.reason);return e.returnValue=r,r}}});var Ot=[];e(t).on("keydown",function(t){if(8===t.keyCode){var i=t.srcElement||t.target,n=i.nodeName.toLowerCase();if("input"===n&&"text"===i.type||"textarea"===n)return!0;var r,o,a=e(i),s=Ot,l=!1;for(r=s.length;r-- >0;)if(o=s[r],Ae(o.valid)){if(o.within&&a.closest(o.within).length>0){l=!0;break}if(o.element&&e(o.element).is(a)){l=!0;break}if(o.custom&&!o.custom(a)){l=!0;break}}if(l)for(r=s.length;r-- >0;)if(o=s[r],Ae(o.valid)&&o.except&&a.is(o.except)){l=!1;break}if(l)return t.preventDefault(),!0}})}(jQuery,window);
//# sourceMappingURL=zillion-parts.min.js.map